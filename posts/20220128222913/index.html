<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="rgb(46, 44, 79)">
  <meta name="description" content="ä½¿ç”¨ ESlint è§„èŒƒé¡¹ç›®">
  <meta name="keywords" content="ESlint, JavaScript, TypeScript">
  <title>
    ESLint
  </title>
  <link rel="stylesheet" href="/public/css/index.css">
  <link rel="stylesheet" href="/public/css/markdown.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <script src="/public/JavaScript/index.js"></script>
</head><header class="blog-header">
  <a href="https://github.com/fwqaaq" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/82551626?v=4" loading="lazy" alt="me" srcset="">
  </a>
  <nav class="header-nav">
    <a class="decoration-line" href="/"><i class="fa-solid fa-house-chimney fa-xs"></i>
      <span class="disappear">Home</span>
    </a>
    <a class="decoration-line" href="/./about/index.html"><i class="fa-solid fa-address-card fa-xs"></i>
      <span class="disappear">About</span></a>
    <a class="decoration-line" href="/./archive/index.html"><i class="fa-solid fa-box-archive fa-xs"></i> <span
        class="disappear">Archive</span></a>
    <a class="decoration-line" href="/./tags/index.html"><i class="fa-solid fa-tag fa-xs"></i> <span
        class="disappear">Tag</span></a>
    <div class="toy"><i class="fa-solid fa-gamepad fa-xs"></i> <span class="disappear">Toy</span>
      <nav class="toy-nav disappear">
        <a class="decoration-line" href="/public/resume/">æˆ‘çš„ç®€å†</a>
        <a class="decoration-line" href="/public/write-css/index.html">å­¦ä¹  UI</a>
      </nav>
    </div>
    <a class="decoration-line" href="/feed.xml"><i class="fa-solid fa-rss fa-xs"></i> <span
        class="disappear">RSS</span></a>
    <a class="decoration-line model" href="#" class="model"><i class="fa-solid fa-sun fa-xs"></i></a>
  </nav>
</header><main class="blog-main">
          <article class="blog-article">
            <h1>ESLint</h1>
            <hr>
            <blockquote>
<p>ä»¥ä¸‹ä»¥ <code>nuxt3</code> é›†æˆ ESlint ä¸¾ä¾‹</p>
</blockquote>
<ul>
<li><code>npx nuxi init nuxt-app</code>ï¼šé¦–å…ˆå¾—åˆå§‹åŒ–ä¸€ä¸ª nuxt3 çš„é¡¹ç›®</li>
</ul>
<h2 id="åˆå§‹åŒ–-eslint">åˆå§‹åŒ– ESlint<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åˆå§‹åŒ–-eslint"></a></h2>
<ul>
<li>
<p><code>eslint</code> å¯ä»¥å…¨å±€å®‰è£…ï¼Œä¹Ÿå¯ä»¥å±€éƒ¨å®‰è£…ï¼Œåœ¨è¿™é‡Œæˆ‘å°±ä½¿ç”¨ <code>pnpm add eslint -D</code></p>
</li>
<li>
<p><code>npx eslint --init</code>ï¼šæ­¤å‘½ä»¤å¯ä»¥åˆ›å»ºä¸€ä¸ªé…ç½®ï¼Œå¹¶ä¸”ä½ å°±å¯ä»¥ç»§æ‰¿æ¨èçš„è§„åˆ™</p>
</li>
</ul>
<pre><code class="hl language-js"><span class="hl-variable language_">module</span>.<span class="hl-property">exports</span> = {
  <span class="hl-string">"env"</span>: {
    <span class="hl-string">"browser"</span>: <span class="hl-literal">true</span>,
    <span class="hl-string">"es2021"</span>: <span class="hl-literal">true</span>,
  },
  <span class="hl-string">"extends"</span>: [
    <span class="hl-string">"eslint:recommended"</span>,
    <span class="hl-string">"plugin:vue/essential"</span>,
    <span class="hl-string">"plugin:@typescript-eslint/recommended"</span>,
  ],
  <span class="hl-string">"parserOptions"</span>: {
    <span class="hl-string">"ecmaVersion"</span>: <span class="hl-string">"latest"</span>,
    <span class="hl-string">"parser"</span>: <span class="hl-string">"@typescript-eslint/parser"</span>,
    <span class="hl-string">"sourceType"</span>: <span class="hl-string">"module"</span>,
  },
  <span class="hl-string">"plugins"</span>: [
    <span class="hl-string">"vue"</span>,
    <span class="hl-string">"@typescript-eslint"</span>,
  ],
  <span class="hl-string">"rules"</span>: {},
};
</code></pre>
<ul>
<li><strong>env</strong>:é¡¹ç›®ç¯å¢ƒ</li>
</ul>
<h3 id="extends"><strong>extends</strong><a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#extends"></a></h3>
<blockquote>
<p>extends çš„æ¨¡å—åç§°ä»¥ <code>eslint-config-</code> å¼€å¤´ï¼Œä¾‹å¦‚ eslint-config-myconfigã€‚åŒæ—¶æ”¯æŒ
npm ä½œç”¨åŸŸæ¨¡å—ï¼Œä¾‹å¦‚
:@scope/eslint-configã€‚ä½¿ç”¨çš„æ—¶å€™å¯ä»¥ç”¨å…¨ç§°ï¼Œä¹Ÿå¯ä»¥ç”¨ç¼©å†™ (ä¸ä½¿ç”¨<code>eslint-config-</code>)</p>
<p>ä¾‹å¦‚ä¸Šé¢é…ç½®æ–‡ä»¶ï¼Œextends ä¸­ <code>"plugin:@typescript-eslint/recommended"</code>ï¼Œè¿™ä¸ªå°±æ˜¯æ’ä»¶ä¸­çš„é…ç½®</p>
</blockquote>
<ul>
<li><strong>æŒ‡å®šé…ç½®çš„å­—ç¬¦ä¸²</strong>ï¼ˆé…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼Œå¯å…±äº«é…ç½®çš„åç§°ï¼Œ<code>eslint:recommended</code> æˆ– <code>eslint:all</code>ï¼‰</li>
<li><strong>å­—ç¬¦ä¸²æ•°ç»„</strong>ï¼šæ¯ä¸ªé…ç½®ç»§æ‰¿å®ƒå‰é¢çš„é…ç½®</li>
</ul>
<ol>
<li>extends å¯ä»¥çœ‹åšæ˜¯é›†æˆä¸€ä¸ªä¸ªé…ç½®æ–¹æ¡ˆçš„æœ€ä½³å®è·µã€‚å®ƒé…ç½®çš„å†…å®¹å®é™…å°±æ˜¯ä¸€ä»½ä»½åˆ«äººé…ç½®å¥½çš„ <code>.eslintrc.js</code></li>
<li>å…è®¸ extends é…ç½®å¤šä¸ªæ¨¡å—ï¼Œå¦‚æœè§„åˆ™å†²çªï¼Œä½ç½®é åçš„åŒ…å°†è¦†ç›–å‰é¢çš„</li>
<li>rules ä¸­çš„è§„åˆ™ç›¸åŒï¼Œå¹¶ä¸”ä¼˜å…ˆçº§æ’å®šé«˜äº extends</li>
</ol>
<h3 id="plugin">plugin<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#plugin"></a></h3>
<blockquote>
<p>æ¯ä¸ªæ’ä»¶æ˜¯ä¸€ä¸ªå‘½åæ ¼å¼ä¸º eslint-plugin-&#x3C;plugin-name> ï¼Œæ¯”å¦‚
eslint-plugin-vueã€‚ä½ ä¹Ÿå¯ä»¥ç”¨è¿™æ ·çš„æ ¼å¼ @&#x3C;scope>/eslint-plugin-&#x3C;plugin-name>
é™å®šåœ¨åŒ…ä½œç”¨åŸŸä¸‹ï¼Œæ¯”å¦‚ @vue/eslint-plugin-vueã€‚åŒæ ·å¯ä»¥ä½¿ç”¨ç¼©å†™</p>
<p>ä¾‹å¦‚ä¸Šé¢é…ç½®æ–‡ä»¶ä¸­ï¼Œplugins ä¸­çš„<code>"vue"</code>ï¼Œè¿™ä¸ªå°±æ˜¯ç®€å†™çš„æ’ä»¶</p>
</blockquote>
<ol>
<li>å¼•å…¥ <code>plugin</code> å¯ä»¥ç†è§£ä¸ºåªæ˜¯åŠ è½½äº†ï¼ˆæ‹¥æœ‰é¢å¤–çš„è‡ªå®šä¹‰çš„ rulesï¼‰æ’ä»¶ã€‚ä½†æ˜¯åªæœ‰åœ¨ <strong>rules,extends</strong> ä¸­å®šä¹‰åæ‰ä¼šç”Ÿæ•ˆï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¸ç”Ÿæ•ˆ</li>
<li>plugin é‡Œé™¤äº†è‡ªå®šä¹‰çš„ rulesã€‚è¿˜å¯ä»¥é…ç½® <code>.eslintrc.js</code>ï¼ˆä¾‹å¦‚ <code>"plugin:vue/essential"</code>ï¼‰ï¼Œå¹¶ä¸”è¿™éƒ¨åˆ†å¯ä»¥åœ¨ extends é‡Œé…ç½®ï¼š<code>plugin:config</code> åç§°
<ul>
<li>å‚è€ƒï¼š<a href="https://cn.eslint.org/docs/developer-guide/working-with-plugins#configs-in-plugins">https://cn.eslint.org/docs/developer-guide/working-with-plugins#configs-in-plugins</a></li>
</ul>
</li>
</ol>
<h3 id="rules"><strong>rules</strong><a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#rules"></a></h3>
<blockquote>
<p><a href="https://eslint.org/docs/user-guide/configuring/rules">å¯ä»¥åšä¸‹é¢çš„ä»»ä½•äº‹æƒ…ä»¥æ‰©å±•ï¼ˆæˆ–è¦†ç›–ï¼‰è§„åˆ™</a></p>
</blockquote>
<ul>
<li><code>"off"</code> æˆ– <code>0</code>â€”â€”å…³é—­è§„åˆ™</li>
<li><code>"warn"</code> æˆ– <code>1</code>â€”â€”æ‰“å¼€è§„åˆ™ä½œä¸ºè­¦å‘Šï¼ˆä¸å½±å“é€€å‡ºä»£ç ï¼‰</li>
<li><code>"error"</code> æˆ– <code>2</code>â€”â€”å°†è§„åˆ™ä½œä¸ºé”™è¯¯æ‰“å¼€ï¼ˆè§¦å‘æ—¶é€€å‡ºä»£ç ä¸º 1ï¼‰</li>
</ul>
<ol>
<li>å¯ç”¨é¢å¤–çš„è§„åˆ™</li>
<li>æ”¹å˜ç»§æ‰¿çš„è§„åˆ™çº§åˆ«è€Œä¸æ”¹å˜å®ƒçš„é€‰é¡¹
<ul>
<li>åŸºç¡€é…ç½®ï¼š<code>"eqeqeq": ["error", "allow-null"]</code></li>
<li>æ´¾ç”Ÿçš„é…ç½®ï¼š<code>"eqeqeq": "warn"</code></li>
<li>æœ€åç”Ÿæˆçš„é…ç½®ï¼š<code>"eqeqeq": ["warn", "allow-null"]</code></li>
<li><code>eqeqeq</code> æ˜¯éœ€è¦ <code>===</code> å’Œ <code>!==</code></li>
</ul>
</li>
<li>è¦†ç›–åŸºç¡€é…ç½®ä¸­çš„è§„åˆ™çš„é€‰é¡¹
<ul>
<li>åŸºç¡€é…ç½®ï¼š<code>"quotes": ["error", "single", "avoid-escape"]</code></li>
<li>æ´¾ç”Ÿçš„é…ç½®ï¼š<code>"quotes": ["error", "single"]</code></li>
<li>æœ€åç”Ÿæˆçš„é…ç½®ï¼š<code>"quotes": ["error", "single"]</code></li>
<li><code>quotes</code> å¼ºåˆ¶ä¸€è‡´ä½¿ç”¨åå¼•å·ã€åŒå¼•å·æˆ–å•å¼•å·</li>
</ul>
</li>
</ol>
<blockquote>
<p>å¼€å¯ "eslint:recommended"</p>
<p>å€¼ä¸º <code>eslint:recommended</code> çš„ extends å±æ€§å¯ç”¨ä¸€ç³»åˆ—æ ¸å¿ƒè§„åˆ™ï¼Œè¿™äº›è§„åˆ™æŠ¥å‘Šä¸€äº›å¸¸è§é—®é¢˜</p>
<p>å¦‚æœé…ç½®é›†æˆäº†æ¨èçš„è§„åˆ™ï¼šåœ¨ä½¿ç”¨å‘½ä»¤è¡Œçš„ <code>--fix</code> é€‰é¡¹ä¹‹å‰ï¼Œæ£€æŸ¥ä¸€ä¸‹æŠ¥å‘Šçš„é—®é¢˜ï¼Œè¿™æ ·å°±å¯ä»¥çŸ¥é“ä¸€ä¸ªæ–°çš„å¯ä¿®å¤çš„æ¨èçš„è§„åˆ™å°†æ›´æ”¹ä»£ç </p>
</blockquote>
<h3 id="extends-å’Œ-plugins-çš„åŒºåˆ«">extends å’Œ plugins çš„åŒºåˆ«<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#extends-å’Œ-plugins-çš„åŒºåˆ«"></a></h3>
<ol>
<li>ä¸€èˆ¬å¯¹ JavaScript æ¥è¯´ï¼Œextends æ˜¯é’ˆå¯¹ rules åšçš„è§„åˆ™è¯´æ˜ï¼Œç±»ä¼¼äºåˆ«äººé…ç½®å¥½çš„ <code>.eslintrc.js</code>ã€‚è€Œ plugins æ˜¯ä¸€å †è§„åˆ™é›†åˆ</li>
<li>extends ä¸€èˆ¬ä¼šåŠ è½½ plugin ä¸­çš„é…ç½®é›†ï¼Œå½¢æˆä¸€å¥—æ ¸å¿ƒè§„åˆ™</li>
<li>plugin ä¸ä»…ä»…å¯ä»¥å¯¹ javascript åšæ‰©å±•ï¼Œåˆå¯ä»¥å¯¹é™¤äº† JavaScript ä¹‹å¤–çš„åšæ‰©å±•</li>
</ol>
<blockquote>
<p>åœ¨ extends ä¸­ä½¿ç”¨<a href="https://cn.eslint.org/docs/developer-guide/working-with-plugins#configs-in-plugins">plugins æ’ä»¶</a></p>
</blockquote>
<ul>
<li>extends é‡Œçš„ config å’Œ plugin é‡Œçš„ config çš„åŒºåˆ«
<ol>
<li><code>extends</code> ä¸­çš„ config æ˜¯ä¸€ç§å‘½åè§„èŒƒï¼Œæ‰©å±•åç§°æ ¼å¼å¿…é¡»ä¸º eslint-config-&#x3C;name></li>
<li>plugin ä¸­çš„ config æ˜¯ä¸€ä¸ªå±æ€§ï¼Œç”¨äºé…ç½®ä¸€å †è‡ªå®šä¹‰çš„è§„åˆ™çš„é›†åˆ</li>
</ol>
</li>
</ul>
<h3 id="parseroptions">parserOptions<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#parseroptions"></a></h3>
<blockquote>
<p>å‚è€ƒ<a href="https://eslint.bootcss.com/docs/user-guide/configuring">https://eslint.bootcss.com/docs/user-guide/configuring</a></p>
</blockquote>
<h3 id="ä¿®æ”¹æ”¯æŒ-vue3">ä¿®æ”¹æ”¯æŒ vue3<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#ä¿®æ”¹æ”¯æŒ-vue3"></a></h3>
<blockquote>
<p>å‚è€ƒ<a href="https://eslint.vuejs.org/user-guide/#usage">https://eslint.vuejs.org/user-guide/#usage</a></p>
</blockquote>
<ol>
<li>
<p>å°† extends é‡Œçš„ <code>"plugin:vue/essential"</code> æ¢æˆ vue3</p>
<pre><code class="hl language-js"><span class="hl-attr">extends</span>: [
  ...,
  <span class="hl-string">'plugin:vue/vue3-recommended'</span>,
],
</code></pre>
</li>
<li>
<p>é…ç½® nuxt3 ä¸­é¢å¤–çš„è§„åˆ™</p>
<ul>
<li>ä¸‹è½½æ’ä»¶ï¼š<code>npm install -D eslint-plugin-nuxt</code></li>
</ul>
<pre><code class="hl language-js"><span class="hl-attr">extends</span>:[
  ...,
  <span class="hl-string">"plugin:nuxt/recommended"</span>
]
</code></pre>
</li>
</ol>
<h3 id="eslint-å‘½ä»¤è¡Œå‚æ•°">ESlint å‘½ä»¤è¡Œå‚æ•°<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#eslint-å‘½ä»¤è¡Œå‚æ•°"></a></h3>
<blockquote>
<p>é¦–å…ˆåœ¨è„šæœ¬ä¸­é…ç½® eslint æ£€æŸ¥</p>
</blockquote>
<pre><code class="hl language-json">scripts<span class="hl-punctuation">:</span><span class="hl-punctuation">{</span>
  <span class="hl-comment">// npx ä¼šè‡ªåŠ¨æ‰§è¡Œè„šæœ¬ï¼Œä¸éœ€è¦åŠ ä¸Š npx</span>
  <span class="hl-attr">"lint"</span><span class="hl-punctuation">:</span> <span class="hl-string">"eslint . --ext .ts,.vue"</span>
<span class="hl-punctuation">}</span>
</code></pre>
<blockquote>
<ul>
<li>è¯­æ³•ï¼š<code>eslint [options] [file|dir|glob]*</code></li>
<li>å¸¸ç”¨å‘½ä»¤è¡Œå‚æ•°ï¼Œé€šè¿‡ <code>npx eslint --help</code> æ¥è¾“å‡ºæ‰€æœ‰é€‰é¡¹å‚æ•°</li>
</ul>
</blockquote>
<ul>
<li>
<p>æ­£å¸¸çš„ä½¿ç”¨</p>
<ol>
<li><code>eslint app.js main.js</code>ï¼šæ£€æŸ¥<code>app.js</code>ã€<code>main.js</code>æ–‡ä»¶</li>
<li><code>eslint lib/**</code>ï¼šæ£€æŸ¥ lib ä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶</li>
</ol>
</li>
<li>
<p>ä¸€äº›å¸¸ç”¨é€‰é¡¹</p>
<ol>
<li>
<p><code>--ext</code>ï¼šå…è®¸ä½ æŒ‡å®š ESLint åœ¨æŒ‡å®šçš„ç›®å½•ä¸‹æŸ¥æ‰¾ JavaScript æ–‡ä»¶æ—¶è¦ä½¿ç”¨çš„æ–‡ä»¶æ‰©å±•åã€‚é»˜è®¤æƒ…å†µä¸‹ <code>.js</code> ä½œä¸ºå”¯ä¸€æ€§æ–‡ä»¶æ‰©å±•å</p>
<ul>
<li><code>--ext</code> åªç”¨å½“å‚æ•°ä¸ºç›®å½•æ—¶æ‰ä¼šç”Ÿæ•ˆ</li>
</ul>
<pre><code class="hl language-shell"><span class="hl-meta prompt_"># </span><span class="bash">å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ç›®å½•</span>
eslint --ext .ts,.vue .
<span class="hl-meta prompt_"># </span><span class="bash">å¿½ç•¥æ‰©å±•åï¼ŒåŒ¹é… src ä¸‹æ‰€æœ‰æ–‡ä»¶</span>
eslint --ext .vue ./src/**/*
</code></pre>
</li>
<li>
<p><code>--rulesdir</code>ï¼šå…è®¸ä½ æŒ‡å®šå¦ä¸€ä¸ªåŠ è½½è§„åˆ™æ–‡ä»¶çš„ç›®å½•ã€‚å…è®¸ä½ åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½æ–°è§„åˆ™ã€‚å½“ä½ æœ‰è‡ªå®šä¹‰è§„åˆ™ç»‘å®šåˆ° eslint ä¼šå¾ˆæœ‰ç”¨ã€‚</p>
<ul>
<li><code>eslint --rulesdir my-rules/file.js</code>ï¼šåªç»‘å®šä¸€ä¸ªè§„åˆ™æ–‡ä»¶</li>
<li><code>eslint --rulesdir my-rules/ --rulesdir my-other-rules/file.js</code>ï¼šç»‘å®šå¤šä¸ªè§„åˆ™æ–‡ä»¶</li>
<li>æ³¨æ„ï¼Œä¸æ ¸å¿ƒè§„åˆ™å’Œæ’ä»¶è§„åˆ™ä¸€æ ·ï¼Œä½ ä»éœ€è¦åœ¨é…ç½®æ–‡ä»¶æˆ–é€šè¿‡ <code>--rule</code>
å‘½ä»¤è¡Œé€‰é¡¹å¯ç”¨è¿™äº›è§„åˆ™ï¼Œä»¥ä¾¿åœ¨æ£€æµ‹è¿‡ç¨‹ä¸­å®é™…è¿è¡Œè¿™äº›è§„åˆ™ã€‚ä½¿ç”¨ <code>--rulesdir</code>
æŒ‡å®šä¸€ä¸ªè§„åˆ™ç›®å½•ä¸ä¼šè‡ªåŠ¨å¯ç”¨é‚£äº›ç›®å½•ä¸‹çš„è§„åˆ™</li>
</ul>
</li>
<li>
<p><code>-o, --output-file</code>ï¼šå°†æŠ¥å‘Šå†™åˆ°ä¸€ä¸ªæ–‡ä»¶</p>
<ul>
<li><code>eslint -o ./test.txt</code>ï¼šå°†æŠ¥å‘Šå†™åˆ° <code>test.txt</code></li>
</ul>
</li>
<li>
<p><code>--fix</code>ï¼šè¯¥é€‰é¡¹æŒ‡ç¤º ESLint
è¯•å›¾ä¿®å¤å°½å¯èƒ½å¤šçš„é—®é¢˜ã€‚ä¿®å¤åªé’ˆå¯¹å®é™…æ–‡ä»¶æœ¬èº«ï¼Œè€Œä¸”å‰©ä¸‹çš„æœªä¿®å¤çš„é—®é¢˜æ‰ä¼šè¾“å‡ºã€‚ä¸æ˜¯æ‰€æœ‰çš„é—®é¢˜éƒ½èƒ½ä½¿ç”¨è¿™ä¸ªé€‰é¡¹è¿›è¡Œä¿®å¤ï¼Œè¯¥é€‰é¡¹åœ¨ä»¥ä¸‹æƒ…å½¢ä¸­ä¸èµ·ä½œç”¨ï¼š</p>
<ul>
<li>å½“ä»£ç ä¼ é€’ç»™ ESLint æ—¶ï¼Œè¿™ä¸ªé€‰é¡¹æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</li>
<li>è¿™ä¸ªé€‰é¡¹å¯¹ä½¿ç”¨å¤„ç†å™¨çš„ä»£ç ä¸èµ·ä½œç”¨ã€‚</li>
<li>è¯¥é€‰é¡¹å¯¹ä½¿ç”¨å¤„ç†å™¨çš„ä»£ç æ²¡æœ‰å½±å“ï¼Œé™¤éå¤„ç†å™¨é€‰æ‹©å…è®¸è‡ªåŠ¨ä¿®å¤</li>
</ul>
</li>
</ol>
<pre><code class="hl language-json"><span class="hl-punctuation">{</span>
  <span class="hl-attr">"script"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">{</span>
    <span class="hl-attr">"lint"</span><span class="hl-punctuation">:</span> <span class="hl-string">"eslint --fix --ext .tsx,.ts ."</span>
  <span class="hl-punctuation">}</span>
<span class="hl-punctuation">}</span>
</code></pre>
</li>
</ul>
<blockquote>
<p><code>.eslintignore</code> æ–‡ä»¶ï¼šeslint ä¼šå¿½ç•¥å½“å‰ç›®å½•ä¸‹çš„è¿™äº›æ–‡ä»¶ã€‚</p>
</blockquote>
<ul>
<li><code>.eslintignore</code> æ˜¯ <code>--ignore-path</code> çš„é€‰é¡¹çš„ä¸€ä¸ªæ‰©å±•ï¼Œæ›´æ–¹ä¾¿çš„å»ç®¡ç†æ–‡ä»¶</li>
</ul>
<pre><code class="hl language-shell">/dist/*
.local
.output.js
/node_modules/**
**/*.svg
**/*.sh
/public/*
</code></pre>
<h2 id="prettier-å’Œ-husky">prettier å’Œ husky<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#prettier-å’Œ-husky"></a></h2>
<blockquote>
<ul>
<li>ä½¿ç”¨ prettier å»è§„èŒƒä»£ç é£æ ¼</li>
<li>å‚è€ƒ:<a href="https://prettier.io/">https://prettier.io/</a></li>
</ul>
</blockquote>
<ul>
<li>ä¸‹è½½å…³äº prettier çš„æ’ä»¶ï¼š<code>npm i -D prettier eslint-plugin-prettier eslint-config-prettier</code></li>
</ul>
<pre><code class="hl language-js"><span class="hl-variable language_">module</span>.<span class="hl-property">exports</span>={
  <span class="hl-string">"extends"</span>:[
  ...,
  <span class="hl-comment">// ç”¨ eslint-config-prettier</span>
  <span class="hl-string">'plugin:prettier/recommended'</span>
  ],
  <span class="hl-attr">plugin</span>:[<span class="hl-string">"prettier"</span>]<span class="hl-comment">// é¿å…ä¸ prettier å†²çª</span>
}
</code></pre>
<blockquote>
<p>é…ç½® <a href="https://prettier.io/docs/en/options.html"><code>.prettierrc</code></a> æ–‡ä»¶ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥æ·»åŠ  <code>.prettierignore</code> æ–‡ä»¶æ¥å¿½ç•¥ä¸æƒ³è¦æ£€æŸ¥çš„æ–‡ä»¶</p>
</blockquote>
<pre><code class="hl language-js">{
  <span class="hl-attr">printWidth</span>: <span class="hl-number">80</span>, <span class="hl-comment">//å•è¡Œé•¿åº¦</span>
  <span class="hl-attr">tabWidth</span>: <span class="hl-number">2</span>, <span class="hl-comment">//ç¼©è¿›é•¿åº¦ï¼Œä¸ç®¡æ˜¯ç©ºæ ¼è¿˜æ˜¯ Tab</span>
  <span class="hl-attr">useTabs</span>: <span class="hl-literal">false</span>, <span class="hl-comment">//ä½¿ç”¨ç©ºæ ¼ä»£æ›¿ tab ç¼©è¿›</span>
  <span class="hl-attr">semi</span>: <span class="hl-literal">true</span>, <span class="hl-comment">//å¥æœ«ä½¿ç”¨åˆ†å·</span>
  <span class="hl-attr">singleQuote</span>: <span class="hl-literal">true</span>, <span class="hl-comment">//ä½¿ç”¨å•å¼•å·</span>
  <span class="hl-attr">quoteProps</span>: <span class="hl-string">'as-needed'</span>, <span class="hl-comment">//ä»…åœ¨å¿…éœ€æ—¶ä¸ºå¯¹è±¡çš„ key æ·»åŠ å¼•å·</span>
  <span class="hl-attr">jsxSingleQuote</span>: <span class="hl-literal">true</span>, <span class="hl-comment">// jsx ä¸­ä½¿ç”¨å•å¼•å·</span>
  <span class="hl-attr">trailingComma</span>: <span class="hl-string">'all'</span>, <span class="hl-comment">//å¤šè¡Œæ—¶å°½å¯èƒ½æ‰“å°å°¾éšé€—å·</span>
  <span class="hl-attr">bracketSpacing</span>: <span class="hl-literal">true</span>, <span class="hl-comment">//åœ¨å¯¹è±¡å‰åæ·»åŠ ç©ºæ ¼-eg: { foo: bar }</span>
  <span class="hl-attr">jsxBracketSameLine</span>: <span class="hl-literal">true</span>, <span class="hl-comment">//å¤šå±æ€§ html æ ‡ç­¾çš„â€˜>â€™æŠ˜è¡Œæ”¾ç½®</span>
  <span class="hl-attr">arrowParens</span>: <span class="hl-string">'always'</span>, <span class="hl-comment">//å•å‚æ•°ç®­å¤´å‡½æ•°å‚æ•°å‘¨å›´ä½¿ç”¨åœ†æ‹¬å·-eg: (x) => x</span>
  <span class="hl-attr">requirePragma</span>: <span class="hl-literal">false</span>, <span class="hl-comment">//æ— éœ€é¡¶éƒ¨æ³¨é‡Šå³å¯æ ¼å¼åŒ–</span>
  <span class="hl-attr">insertPragma</span>: <span class="hl-literal">false</span>, <span class="hl-comment">//åœ¨å·²è¢« preitter æ ¼å¼åŒ–çš„æ–‡ä»¶é¡¶éƒ¨åŠ ä¸Šæ ‡æ³¨</span>
  <span class="hl-attr">proseWrap</span>: <span class="hl-string">'preserve'</span>, <span class="hl-comment">//ä¸çŸ¥é“æ€ä¹ˆç¿»è¯‘</span>
  <span class="hl-attr">htmlWhitespaceSensitivity</span>: <span class="hl-string">'ignore'</span>, <span class="hl-comment">//å¯¹ HTML å…¨å±€ç©ºç™½ä¸æ•æ„Ÿ</span>
  <span class="hl-attr">vueIndentScriptAndStyle</span>: <span class="hl-literal">false</span>, <span class="hl-comment">//ä¸å¯¹ vue ä¸­çš„ script åŠ style æ ‡ç­¾ç¼©è¿›</span>
  <span class="hl-attr">endOfLine</span>: <span class="hl-string">'lf'</span>, <span class="hl-comment">//ç»“æŸè¡Œå½¢å¼</span>
  <span class="hl-attr">embeddedLanguageFormatting</span>: <span class="hl-string">'auto'</span>, <span class="hl-comment">//å¯¹å¼•ç”¨ä»£ç è¿›è¡Œæ ¼å¼åŒ–</span>
}
</code></pre>
<ul>
<li>å¢åŠ è„šæœ¬é…ç½® <code>prettier --write .</code></li>
</ul>
<h3 id="husky">husky<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#husky"></a></h3>
<blockquote>
<p>çº¿åˆå§‹åŒ– huskyï¼š<code>git husky install</code></p>
</blockquote>
<ul>
<li><code>npx husky add .husky/pre-commit "npx lint-staged"</code> å°†ä»£ç æ£€æŸ¥æ·»åŠ åˆ°é¢„æäº¤</li>
</ul>
<h3 id="lint-staged">Lint-staged<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#lint-staged"></a></h3>
<ul>
<li>ç›´æ¥ä½¿ç”¨å‘½ä»¤ï¼š<code>npx mrm@2 lint-staged</code></li>
</ul>
<blockquote>
<p>æ­¤å‘½ä»¤å°†æ ¹æ®é¡¹ç›®ä¾èµ–é¡¹ä¸­çš„ä»£ç è´¨é‡å·¥å…·å®‰è£…å’Œé…ç½® husky å’Œ `lint-staged
package.jsonï¼Œå› æ­¤è¯·ç¡®ä¿åœ¨æ­¤ä¹‹å‰å®‰è£… npm install
--save-dev å¹¶é…ç½®æ‰€æœ‰ä»£ç è´¨é‡å·¥å…·ï¼Œå¦‚ Prettier å’Œ ESLint</p>
</blockquote>
<ul>
<li><code>Lint-staged</code> å‚è€ƒï¼š<a href="https://github.com/okonet/lint-staged">https://github.com/okonet/lint-staged</a></li>
</ul>
        </article></main><script src="https://giscus.app/client.js"
        data-repo="fwqaaq/fwqaaq.github.io"
        data-repo-id="R_kgDOHCFK2A"
        data-category="Show and tell"
        data-category-id="DIC_kwDOHCFK2M4CYOLh"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async></script>