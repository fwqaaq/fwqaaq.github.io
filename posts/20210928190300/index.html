<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="rgb(46, 44, 79)">
  <meta name="description" content="vueRouter åˆ›å»ºå•é¡µåº”ç”¨ç¨‹åºçš„æ–¹å¼">
  <meta name="keywords" content="Vue, JavaScript, TypeScript">
  <title>
    VueRouter
  </title>
  <link rel="stylesheet" href="/public/css/index.css">
  <link rel="stylesheet" href="/public/css/markdown.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <script src="/public/JavaScript/index.js"></script>
</head><header class="blog-header">
  <a href="https://github.com/fwqaaq" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/82551626?v=4" loading="lazy" alt="me" srcset="">
  </a>
  <nav class="header-nav">
    <a class="decoration-line" href="/"><i class="fa-solid fa-house-chimney fa-xs"></i>
      <span class="disappear">Home</span>
    </a>
    <a class="decoration-line" href="/./about/index.html"><i class="fa-solid fa-address-card fa-xs"></i>
      <span class="disappear">About</span></a>
    <a class="decoration-line" href="/./archive/index.html"><i class="fa-solid fa-box-archive fa-xs"></i> <span
        class="disappear">Archive</span></a>
    <a class="decoration-line" href="/./tags/index.html"><i class="fa-solid fa-tag fa-xs"></i> <span
        class="disappear">Tag</span></a>
    <div class="toy"><i class="fa-solid fa-gamepad fa-xs"></i> <span class="disappear">Toy</span>
      <nav class="toy-nav disappear">
        <a class="decoration-line" href="/public/resume/">æˆ‘çš„ç®€å†</a>
        <a class="decoration-line" href="/public/write-css/index.html">å­¦ä¹  UI</a>
      </nav>
    </div>
    <a class="decoration-line" href="/feed.xml"><i class="fa-solid fa-rss fa-xs"></i> <span
        class="disappear">RSS</span></a>
    <a class="decoration-line model" href="#" class="model"><i class="fa-solid fa-sun fa-xs"></i></a>
  </nav>
</header><main class="blog-main">
          <article class="blog-article">
            <h1>VueRouter</h1>
            <hr>
            <h2 id="åŠ¨æ€è·¯ç”±">åŠ¨æ€è·¯ç”±<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åŠ¨æ€è·¯ç”±"></a></h2>
<ul>
<li>å°†ç»™å®šåŒ¹é…æ¨¡å¼çš„è·¯ç”±æ˜ å°„åˆ°åŒä¸€ä¸ªç»„ä»¶</li>
</ul>
<blockquote>
<p>åœ¨ Vue Router ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è·¯å¾„ä¸­ä½¿ç”¨ä¸€ä¸ªåŠ¨æ€å­—æ®µæ¥å®ç°ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º è·¯å¾„å‚æ•°</p>
</blockquote>
<pre><code class="hl language-js">{
  <span class="hl-attr">path</span>:<span class="hl-string">"/user/:id"</span>,
  <span class="hl-attr">component</span>:<span class="hl-function">()=></span><span class="hl-keyword">import</span>(<span class="hl-string">"../pages/User.vue"</span>)
}
</code></pre>
<ul>
<li>åœ¨<code>router-link</code>ä¸­è¿›è¡Œè·³è½¬</li>
</ul>
<pre><code class="hl language-html"><span class="hl-tag">&#x3C;<span class="hl-name">router-link</span> <span class="hl-attr">to</span>=<span class="hl-string">"/user/123"</span>></span>ç”¨æˆ· 123<span class="hl-tag">&#x3C;/<span class="hl-name">router-link</span>></span>
</code></pre>
<h3 id="åŠ¨æ€è·¯ç”±å–å€¼">åŠ¨æ€è·¯ç”±å–å€¼<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åŠ¨æ€è·¯ç”±å–å€¼"></a></h3>
<h4 id="åœ¨-template-ä¸­">åœ¨ template ä¸­<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åœ¨-template-ä¸­"></a></h4>
<ul>
<li>é€šè¿‡ $route.params è·å–å€¼</li>
</ul>
<pre><code class="hl language-html"><span class="hl-tag">&#x3C;<span class="hl-name">template</span>></span>
  <span class="hl-tag">&#x3C;<span class="hl-name">div</span>></span>
    <span class="hl-tag">&#x3C;<span class="hl-name">h2</span>></span>ç”¨æˆ·ç•Œé¢:{{$route.params.id}}<span class="hl-tag">&#x3C;/<span class="hl-name">h2</span>></span>
  <span class="hl-tag">&#x3C;/<span class="hl-name">div</span>></span>
<span class="hl-tag">&#x3C;/<span class="hl-name">template</span>></span>
</code></pre>
<h4 id="åœ¨-setup-ä¸­">åœ¨ setup ä¸­<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åœ¨-setup-ä¸­"></a></h4>
<ul>
<li>ä½¿ç”¨ç”¨ <code>vue-router</code>åº“ç»™æˆ‘ä»¬æä¾›çš„ä¸€ä¸ª hook <code>useRoute</code></li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">import</span> { useRoute } <span class="hl-keyword">from</span> <span class="hl-string">"vue-router"</span>;
<span class="hl-keyword">export</span> <span class="hl-keyword">default</span> {
  <span class="hl-title function_">setup</span>(<span class="hl-params"></span>) {
    <span class="hl-keyword">const</span> route = <span class="hl-title function_">useRoute</span>();
    <span class="hl-variable language_">console</span>.<span class="hl-title function_">log</span>(route.<span class="hl-property">params</span>.<span class="hl-property">id</span>);
  },
};
</code></pre>
<h3 id="åŒ¹é…å¤šä¸ªå€¼">åŒ¹é…å¤šä¸ªå€¼<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åŒ¹é…å¤šä¸ªå€¼"></a></h3>




















<table><thead><tr><th>åŒ¹é…æ¨¡å¼</th><th>åŒ¹é…è·¯å¾„</th><th><code>$route.params</code></th></tr></thead><tbody><tr><td>/users/:user</td><td>/users/lisi</td><td><code>{ user: 'lisi' }</code></td></tr><tr><td>/users/:user/id/:id</td><td>/users/:lisi/id/123</td><td><code>{ user: 'lisi', id: '123' }</code></td></tr></tbody></table>
<h2 id="notfound-é¡µé¢">NotFound é¡µé¢<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#notfound-é¡µé¢"></a></h2>
<blockquote>
<p>å¯¹äºå“ªäº›æ²¡æœ‰åŒ¹é…åˆ°çš„è·¯ç”±ï¼Œå¯ä»¥ç¼–å†™ä¸€ä¸ªåŠ¨æ€è·¯ç”±å°†ä»–ä»¬åŒ¹é…åˆ°å›ºå®šçš„æŸä¸ªé¡µé¢</p>
</blockquote>
<pre><code class="hl language-js">{
  <span class="hl-attr">path</span>:<span class="hl-string">"/:pathMatch(.*)"</span>,
  <span class="hl-attr">component</span>:<span class="hl-function">()=></span><span class="hl-keyword">import</span>(<span class="hl-string">"../pages/NotFound.vue"</span>)
}
</code></pre>
<ul>
<li>å¯ä»¥åœ¨ <code>template</code> ä¸­ä½¿ç”¨ <code>$route.params.pathMatch</code> è·å–è·¯å¾„å‚æ•°
<ul>
<li>ä¾‹å¦‚ï¼š<code>user/hhh/111</code></li>
</ul>
</li>
<li>æ³¨æ„åœ¨ <code>/:pathMatch(.*)</code> åé¢åˆåŠ äº†ä¸€ä¸ª <code>*</code>ï¼Œå³ <code>/:pathMatch(.*)*</code> æ—¶
<ul>
<li><code>$route.params.pathMatch</code> è·å–è·¯å¾„å‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ ["user","hhh","111"]</li>
</ul>
</li>
</ul>
<h2 id="åµŒå¥—è·¯ç”±">åµŒå¥—è·¯ç”±<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åµŒå¥—è·¯ç”±"></a></h2>
<blockquote>
<p>ä½¿ç”¨åµŒå¥—è·¯ç”±é…ç½®æ¥è¡¨è¾¾æŸäº›åº”ç”¨ç¨‹åºçš„ UI ç”±åµŒå¥—å¤šçº§çš„ç»„ä»¶ç»„æˆ</p>
</blockquote>
<pre><code class="hl language-js"><span class="hl-keyword">const</span> routes = [
  {
    <span class="hl-attr">path</span>: <span class="hl-string">'/home'</span>,
    <span class="hl-attr">component</span>: <span class="hl-function">()=></span><span class="hl-keyword">import</span>(<span class="hl-string">"../pages/Home.vue"</span>),
    <span class="hl-attr">children</span>: [
      {
        <span class="hl-attr">path</span>: <span class="hl-string">''</span>,
        <span class="hl-attr">redirect</span>:<span class="hl-string">"/home/product"</span><span class="hl-comment">//é‡å®šå‘</span>
      },
      {
        <span class="hl-attr">path</span>: <span class="hl-string">'product'</span>,
        <span class="hl-attr">component</span>:<span class="hl-attr">component</span>:<span class="hl-function">()=></span><span class="hl-keyword">import</span>(<span class="hl-string">"../pages/HomeProduct.vue"</span>),
      },
    ],
  },
]
</code></pre>
<ul>
<li>ä»¥<code>/</code>å¼€å¤´çš„åµŒå¥—è·¯å¾„å°†è¢«è§†ä¸ºæ ¹è·¯å¾„ï¼Œè¿™å°†æ›´å¥½çš„åˆ©ç”¨ç»„ä»¶åµŒå¥—</li>
</ul>
<h2 id="router-link">&#x3C;router-link><a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#router-link"></a></h2>
<h3 id="ä»£ç çš„é¡µé¢è·³è½¬">ä»£ç çš„é¡µé¢è·³è½¬<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#ä»£ç çš„é¡µé¢è·³è½¬"></a></h3>













<table><thead><tr><th>å£°æ˜å¼</th><th>ç¨‹åºåŒ–</th></tr></thead><tbody><tr><td>&#x3C;router-link :to="..."></td><td><code>router.push(...)</code></td></tr></tbody></table>
<h4 id="ä½¿ç”¨-routerpush">ä½¿ç”¨ router.push(...)<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#ä½¿ç”¨-routerpush"></a></h4>
<ul>
<li>ä½¿ç”¨å­—ç¬¦ä¸²åœ°å€<code>router.push('/users/123')</code></li>
<li>ä½¿ç”¨å¯¹è±¡åœ°å€<code>router.push({'/users/123'})</code></li>
<li>ä½¿ç”¨å‘½åè·¯ç”±å¹¶æºå¸¦ params å‚æ•°ï¼š</li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">import</span> { useRouter } <span class="hl-keyword">from</span> <span class="hl-string">"vue-router"</span>;
<span class="hl-keyword">export</span> <span class="hl-keyword">default</span> {
  <span class="hl-title function_">setup</span>(<span class="hl-params"></span>) {
    <span class="hl-keyword">const</span> router = <span class="hl-title function_">useRouter</span>();
    router.<span class="hl-title function_">push</span>({ <span class="hl-attr">name</span>: <span class="hl-string">"user"</span>, <span class="hl-attr">params</span>: { <span class="hl-attr">username</span>: <span class="hl-string">"eduardo"</span> } });
  },
};
</code></pre>
<ul>
<li>
<p>æºå¸¦ query å‚æ•°ï¼š</p>
<ul>
<li><code>router.push({path:'/register',query:{plan:'private'})</code></li>
</ul>
</li>
<li>
<p>ä½¿ç”¨å¯é‡å¤ä½¿ç”¨çš„ params æ—¶ï¼Œä½¿ç”¨ name å±æ€§ï¼Œæˆ–è€… path è¿™æ ·ç¼–å†™<code>/user/${username}</code></p>
</li>
</ul>
<h3 id="æ›¿æ¢å½“å‰ä½ç½®">æ›¿æ¢å½“å‰ä½ç½®<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#æ›¿æ¢å½“å‰ä½ç½®"></a></h3>
<blockquote>
<p>ä½¿ç”¨ push çš„ç‰¹ç‚¹æ˜¯å‹å…¥ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œé‚£ä¹ˆåœ¨ç”¨æˆ·ç‚¹å‡»è¿”å›æ—¶ï¼Œä¸Šä¸€ä¸ªé¡µé¢è¿˜å¯ä»¥å›é€€ï¼Œä½†æ˜¯å¦‚æœå¸Œæœ›å½“å‰é¡µé¢æ˜¯ä¸€ä¸ªæ›¿æ¢æ“ä½œï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨<code>replace</code></p>
</blockquote>













<table><thead><tr><th>å£°æ˜å¼</th><th>ç¨‹åºåŒ–</th></tr></thead><tbody><tr><td>&#x3C;router-link :to="..." replace></td><td><code>router.replace(...)</code></td></tr></tbody></table>
<h3 id="custom">custom<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#custom"></a></h3>
<blockquote>
<p>custom é€‰é¡¹é˜²æ­¢ &#x3C;router-link> å°†å…¶å†…å®¹åŒ…è£…åœ¨ &#x3C;a> å…ƒç´ å†…</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ&#x3C;router-link> å°†å‘ˆç°å…¶å†…å®¹åŒ…è£¹åœ¨ä¸€ä¸ª &#x3C;a> å…ƒç´ ï¼Œå³ä½¿ä½¿ç”¨ <code>v-slot</code>ã€‚ä½¿ç”¨ <code>custom</code>ï¼Œåˆ é™¤è¯¥è¡Œä¸º</p>
</blockquote>
<pre><code class="hl language-html"><span class="hl-tag">&#x3C;<span class="hl-name">router-link</span> <span class="hl-attr">to</span>=<span class="hl-string">"/home"</span> <span class="hl-attr">custom</span> <span class="hl-attr">v-slot</span>=<span class="hl-string">"{navigate,href,route}"</span>></span>
  <span class="hl-tag">&#x3C;<span class="hl-name">a</span> <span class="hl-attr">:href</span>=<span class="hl-string">"href"</span> @<span class="hl-attr">click</span>=<span class="hl-string">"navigate"</span>></span>{{ route.fullPath }}<span class="hl-tag">&#x3C;/<span class="hl-name">a</span>></span>
<span class="hl-tag">&#x3C;/<span class="hl-name">router-link</span>></span>
</code></pre>
<h3 id="router-link-ä¸­çš„-v-slot">router-link ä¸­çš„ v-slot<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#router-link-ä¸­çš„-v-slot"></a></h3>
<pre><code class="hl language-html"><span class="hl-tag">&#x3C;<span class="hl-name">router-link</span>
  <span class="hl-attr">to</span>=<span class="hl-string">"/about"</span>
  <span class="hl-attr">custom</span>
  <span class="hl-attr">v-slot</span>=<span class="hl-string">"{href,route,navigate,isActive,isExactActive}"</span>></span>
  <span class="hl-tag">&#x3C;<span class="hl-name">p</span> @<span class="hl-attr">click</span>=<span class="hl-string">"navigate"</span>></span>è·³è½¬ about<span class="hl-tag">&#x3C;/<span class="hl-name">p</span>></span>
  <span class="hl-tag">&#x3C;<span class="hl-name">div</span>></span>
    <span class="hl-tag">&#x3C;<span class="hl-name">p</span>></span>href:{{href}}<span class="hl-tag">&#x3C;/<span class="hl-name">p</span>></span>
    <span class="hl-tag">&#x3C;<span class="hl-name">p</span>></span>route:{{route}}<span class="hl-tag">&#x3C;/<span class="hl-name">p</span>></span>
    <span class="hl-tag">&#x3C;<span class="hl-name">p</span>></span>isActive:{{isActive}}<span class="hl-tag">&#x3C;/<span class="hl-name">p</span>></span>
    <span class="hl-tag">&#x3C;<span class="hl-name">p</span>></span>isExactActive:{{isExactActive}}<span class="hl-tag">&#x3C;/<span class="hl-name">p</span>></span>    
  <span class="hl-tag">&#x3C;/<span class="hl-name">div</span>></span>
<span class="hl-tag">&#x3C;/<span class="hl-name">router-link</span>></span>
</code></pre>
<ul>
<li><code>href</code>è§£æåçš„ url</li>
<li><code>route</code>è§£æåçš„è§„èŒƒåŒ–çš„ route å¯¹è±¡</li>
<li><code>navigate</code>è§¦å‘å¯¼èˆªçš„å‡½æ•°</li>
<li><code>isActive</code>æ˜¯å¦åŒ¹é…çš„çŠ¶æ€</li>
<li><code>isExactActive</code>æ˜¯å¦æ˜¯ç²¾å‡†åŒ¹é…çš„çŠ¶æ€</li>
</ul>
<h3 id="å…¶å®ƒ-api">å…¶å®ƒ api<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#å…¶å®ƒ-api"></a></h3>
<blockquote>
<p>å‚è€ƒ<a href="https://next.router.vuejs.org/api/#aria-current-value">https://next.router.vuejs.org/api/#aria-current-value</a></p>
</blockquote>
<h2 id="router-view">router-view<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#router-view"></a></h2>
<ul>
<li>&#x3C;router-view> å…¬å¼€ä¸€ä¸ª <code>v-slot</code> APIï¼Œä¸»è¦æ˜¯ç”¨ &#x3C;transition> å’Œ &#x3C;keep-alive> ç»„ä»¶åŒ…è£…ä½ çš„è·¯ç”±ç»„ä»¶</li>
</ul>
<pre><code class="hl language-html"><span class="hl-tag">&#x3C;<span class="hl-name">router-view</span> <span class="hl-attr">v-slot</span>=<span class="hl-string">"{Component}"</span>></span>
  <span class="hl-tag">&#x3C;<span class="hl-name">transition</span> <span class="hl-attr">name</span>=<span class="hl-string">"why"</span>></span>
    <span class="hl-tag">&#x3C;<span class="hl-name">component</span> <span class="hl-attr">:is</span>=<span class="hl-string">"Component"</span>></span><span class="hl-tag">&#x3C;/<span class="hl-name">component</span>></span>
  <span class="hl-tag">&#x3C;/<span class="hl-name">transition</span>></span>
<span class="hl-tag">&#x3C;/<span class="hl-name">router-view</span>></span>
</code></pre>
<h2 id="åŠ¨æ€çš„æ·»åŠ åˆ é™¤è·¯ç”±">åŠ¨æ€çš„æ·»åŠ åˆ é™¤è·¯ç”±<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åŠ¨æ€çš„æ·»åŠ åˆ é™¤è·¯ç”±"></a></h2>
<h3 id="æ·»åŠ è·¯ç”±">æ·»åŠ è·¯ç”±<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#æ·»åŠ è·¯ç”±"></a></h3>
<ul>
<li>
<p>æŸäº›æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½éœ€è¦åŠ¨æ€çš„æ¥æ·»åŠ è·¯ç”±</p>
<ul>
<li>å¦‚æ ¹æ®ç”¨æˆ·ä¸åŒçš„æƒé™ï¼Œæ³¨å†Œä¸åŒçš„è·¯ç”±</li>
<li>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ–¹æ³• <code>addRoute</code></li>
</ul>
</li>
<li>
<p>ç›´æ¥æ·»åŠ é¡¶çº§è·¯ç”±ï¼Œå‚æ•°åªè¦ä¼ ä¸€ä¸ªåŠ¨æ€è·¯ç”±çš„åç§°</p>
</li>
<li>
<p>æˆ–è€…æ˜¯ä¸ºè·¯ç”±æ·»åŠ å­è·¯ç”±ï¼Œé‚£ä¹ˆè¿˜åº”è¯¥ä¼ å…¥å¯¹åº”çš„ name å±æ€§</p>
</li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">const</span> about = {
  <span class="hl-attr">path</span>: <span class="hl-string">"id"</span>,
  <span class="hl-attr">component</span>: <span class="hl-function">() =></span> <span class="hl-keyword">import</span>(<span class="hl-string">"../pages/About"</span>),
};

router.<span class="hl-title function_">addRoute</span>(<span class="hl-string">"home"</span>, about);
</code></pre>
<ul>
<li>å¦‚æœæ–°å¢åŠ çš„è·¯ç”±çš„ä½ç½®ä¸åŸæœ‰çš„è·¯ç”±ç›¸åŒ¹é…ï¼Œé‚£å°±éœ€è¦ä½ æ‰‹åŠ¨å¯¼èˆªä¸<code>router.push()</code>æˆ–<code>router.replace()</code>ä»¥æ˜¾ç¤ºæ–°çš„è·¯çº¿</li>
</ul>
<h3 id="åˆ é™¤è·¯ç”±">åˆ é™¤è·¯ç”±<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#åˆ é™¤è·¯ç”±"></a></h3>
<ul>
<li>æ·»åŠ ä¸€ä¸ª name ç›¸åŒçš„è·¯ç”±</li>
<li>é€šè¿‡<code>removeRoute</code>æ–¹æ³•ï¼Œä¼ å…¥è·¯ç”±çš„åç§°</li>
<li>é€šè¿‡<code>addRoute</code>æ–¹æ³•çš„è¿”å›å€¼å›è°ƒ</li>
</ul>
<pre><code class="hl language-js"><span class="hl-comment">//æ·»åŠ ä¸€ä¸ª name ç›¸åŒçš„è·¯ç”±</span>
router.<span class="hl-title function_">addRoute</span>({ <span class="hl-attr">path</span>: <span class="hl-string">"/about"</span>, <span class="hl-attr">name</span>: <span class="hl-string">"about"</span>, <span class="hl-attr">component</span>: <span class="hl-title class_">About</span> });
router.<span class="hl-title function_">addRoute</span>({ <span class="hl-attr">path</span>: <span class="hl-string">"/home"</span>, <span class="hl-attr">name</span>: <span class="hl-string">"about"</span>, <span class="hl-attr">component</span>: <span class="hl-title class_">Home</span> });
<span class="hl-comment">//é€šè¿‡ removeRoute æ–¹æ³•ï¼Œä¼ å…¥è·¯ç”±çš„åç§°</span>
router.<span class="hl-title function_">addRoute</span>({ <span class="hl-attr">path</span>: <span class="hl-string">"/about"</span>, <span class="hl-attr">name</span>: <span class="hl-string">"about"</span>, <span class="hl-attr">component</span>: <span class="hl-title class_">About</span> });
router.<span class="hl-title function_">removeRoute</span>(<span class="hl-string">"about"</span>);
<span class="hl-comment">//é€šè¿‡`addRoute`æ–¹æ³•çš„è¿”å›å€¼å›è°ƒ</span>
<span class="hl-keyword">const</span> removeRoute = router.<span class="hl-title function_">addRoute</span>({
  <span class="hl-attr">path</span>: <span class="hl-string">"/about"</span>,
  <span class="hl-attr">name</span>: <span class="hl-string">"about"</span>,
  <span class="hl-attr">component</span>: <span class="hl-title class_">About</span>,
});
<span class="hl-title function_">removeRoute</span>();
</code></pre>
<h3 id="å…¶ä»–-api">å…¶ä»– API<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#å…¶ä»–-api"></a></h3>
<ul>
<li><code>router.hasRoute()</code>æ£€æŸ¥è·¯ç”±æ˜¯å¦å­˜åœ¨ã€‚</li>
<li><code>router.getRoutes()</code>è·å–ä¸€ä¸ªåŒ…å«æ‰€æœ‰è·¯ç”±è®°å½•çš„æ•°ç»„</li>
</ul>
<h2 id="uselink-å’Œ-routerlink">useLink å’Œ RouterLink<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#uselink-å’Œ-routerlink"></a></h2>
<blockquote>
<p>Vue Router å°† <code>RouterLink</code> çš„å†…éƒ¨è¡Œä¸ºå…¬å¼€ä¸º Composition API
å‡½æ•°ã€‚å®ƒæä¾›è®¿é—®ä¸<code>v-slot</code>API ç›¸åŒçš„å±æ€§</p>
</blockquote>
<pre><code class="hl language-js"><span class="hl-keyword">import</span> { <span class="hl-title class_">RouterLink</span>, useLink } <span class="hl-keyword">from</span> <span class="hl-string">"vue-router"</span>;
<span class="hl-keyword">export</span> <span class="hl-keyword">default</span> {
  <span class="hl-attr">name</span>: <span class="hl-string">"App"</span>,
  <span class="hl-attr">props</span>: {
    ...<span class="hl-title class_">RouterLink</span>.<span class="hl-property">props</span>,
  },
  <span class="hl-title function_">setup</span>(<span class="hl-params">props</span>) {
    <span class="hl-keyword">const</span> { route, href, isActive, isExactActive, navigate } = <span class="hl-title function_">useLink</span>(props);
    <span class="hl-keyword">return</span> { href, navigate, isActive };
  },
};
</code></pre>
<h2 id="è·¯ç”±å®ˆå«">è·¯ç”±å®ˆå«<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#è·¯ç”±å®ˆå«"></a></h2>
<blockquote>
<p>è·¯ç”±å®ˆå«çš„è§¦å‘æ—¶æœº</p>
</blockquote>
<ul>
<li>å¯¼èˆªè¢«è§¦å‘ã€‚</li>
<li>åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteLeave å®ˆå«ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«ã€‚</li>
<li>åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteUpdate å®ˆå« (2.2+)ã€‚</li>
<li>åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ beforeEnterã€‚</li>
<li>è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚</li>
<li>åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteEnterã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå« (2.5+)ã€‚</li>
<li>å¯¼èˆªè¢«ç¡®è®¤ã€‚</li>
<li>è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚</li>
<li>è§¦å‘ DOM æ›´æ–°ã€‚</li>
<li>è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next
çš„å›è°ƒå‡½æ•°ï¼Œåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚</li>
</ul>
<blockquote>
<p>Vue router
æä¾›çš„è·¯ç”±å®ˆå«ä¸»è¦ç”¨äºé€šè¿‡é‡å®šå‘æˆ–å–æ¶ˆè·¯ç”±æ¥ä¿æŠ¤è·¯ç”±ã€‚æœ‰å¤šç§æ–¹æ³•å¯ä»¥è¿æ¥åˆ°è·¯ç”±å¯¼èˆªè¿‡ç¨‹:å…¨å±€ï¼Œæ¯ä¸ªè·¯ç”±æˆ–ç»„ä»¶å†…</p>
</blockquote>
<ul>
<li>
<p>æ¥æ”¶ä¸¤ä¸ªå‚æ•°</p>
<ul>
<li>to å³å°†è¿›å…¥çš„è·¯ç”± Route å¯¹è±¡</li>
<li>from å³å°†ç¦»å¼€çš„è·¯ç”± Route å¯¹è±¡</li>
</ul>
</li>
<li>
<p>return è¿”å›å€¼</p>
<ul>
<li>false å–æ¶ˆå½“å‰å¯¼èˆª</li>
<li>ä¸è¿”å›æˆ–è€… undefined è¿›è¡Œé»˜è®¤å¯¼èˆª</li>
<li>è¿”å›ä¸€ä¸ªè·¯ç”±åœ°å€
<ul>
<li>å¯ä»¥æ˜¯ä¸€ä¸ª string ç±»å‹çš„è·¯å¾„</li>
<li>å¯ä»¥æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­åŒ…å«<code>path,query,params</code>ç­‰ä¿¡æ¯</li>
</ul>
</li>
</ul>
</li>
<li>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°<code>next</code>åœ¨ vue3 ä¸­å·²ç»ä¸æ¨èä½¿ç”¨</p>
</li>
</ul>
<h3 id="å…¨å±€è·¯ç”±å®ˆå«-beforeeach">å…¨å±€è·¯ç”±å®ˆå« (beforeEach)<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#å…¨å±€è·¯ç”±å®ˆå«-beforeeach"></a></h3>
<blockquote>
<p>ç”¨æ¥åšä¸€äº›è¿›å…¥é¡µé¢çš„é™åˆ¶ã€‚æ¯”å¦‚æ²¡æœ‰ç™»å½•ï¼Œå°±ä¸èƒ½è¿›å…¥æŸäº›é¡µé¢ï¼Œåªæœ‰ç™»å½•äº†ä¹‹åæ‰æœ‰æƒé™æŸ¥çœ‹æŸäº›é¡µé¢ (åˆå§‹åŒ–çš„æ—¶å€™è¢«è°ƒç”¨ï¼Œæ¯æ¬¡è·¯ç”±åˆ‡æ¢ä¹‹å‰è¢«è°ƒç”¨)</p>
</blockquote>
<pre><code class="hl language-js"><span class="hl-keyword">const</span> router = <span class="hl-title function_">createRouter</span>({ ... })

router.<span class="hl-title function_">beforeEach</span>(<span class="hl-function">(<span class="hl-params">to, <span class="hl-keyword">from</span></span>) =></span> {
  <span class="hl-comment">// ...</span>
  <span class="hl-keyword">return</span> <span class="hl-literal">false</span>
})
</code></pre>
<h3 id="è·¯ç”±ç‹¬äº«å®ˆå«-beforeenter">è·¯ç”±ç‹¬äº«å®ˆå« (beforeEnter)<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#è·¯ç”±ç‹¬äº«å®ˆå«-beforeenter"></a></h3>
<blockquote>
<p>beforeEnter å®ˆå«åªåœ¨è¿›å…¥è·¯ç”±æ—¶è§¦å‘ä¸ä¼šåœ¨ params,query æˆ– hash æ”¹å˜æ—¶è§¦å‘</p>
</blockquote>
<pre><code class="hl language-js"><span class="hl-keyword">const</span> routes = [
  {
    <span class="hl-attr">path</span>: <span class="hl-string">"/users/:id"</span>,
    <span class="hl-attr">component</span>: <span class="hl-title class_">UserDetails</span>,
    <span class="hl-attr">beforeEnter</span>: <span class="hl-function">(<span class="hl-params">to, <span class="hl-keyword">from</span></span>) =></span> {
      <span class="hl-keyword">return</span> <span class="hl-literal">false</span>;
    },
  },
];
</code></pre>
<h3 id="å…¨å±€åç½®åå«">å…¨å±€åç½®åå«<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#å…¨å±€åç½®åå«"></a></h3>
<blockquote>
<p>ä¸ä¼šæ¥å—è¿”å›å€¼ä¹Ÿä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«ã€‚ç”¨äºåˆ†æã€æ›´æ”¹é¡µé¢æ ‡é¢˜ã€å£°æ˜é¡µé¢ç­‰è¾…åŠ©åŠŸèƒ½</p>
</blockquote>
<pre><code class="hl language-js">router.<span class="hl-title function_">afterEach</span>(<span class="hl-function">(<span class="hl-params">to, <span class="hl-keyword">from</span></span>) =></span> {
  <span class="hl-comment">//...</span>
})
</code></pre>
<h3 id="ç»„ä»¶å†…å®ˆå«">ç»„ä»¶å†…å®ˆå«<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#ç»„ä»¶å†…å®ˆå«"></a></h3>
<p>å‚è€ƒ <a href="https://next.router.vuejs.org/zh/guide/advanced/composition-api.html#%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB">https://next.router.vuejs.org/zh/guide/advanced/composition-api.html#%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB</a></p>
        </article></main><script src="https://giscus.app/client.js"
        data-repo="fwqaaq/fwqaaq.github.io"
        data-repo-id="R_kgDOHCFK2A"
        data-category="Show and tell"
        data-category-id="DIC_kwDOHCFK2M4CYOLh"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async></script>