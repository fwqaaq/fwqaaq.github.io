<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="rgb(46, 44, 79)">
  <meta name="description" content="æµè§ˆå™¨è‡ªå¸¦çš„ bom å±æ€§">
  <meta name="keywords" content="JavaScript">
  <title>
    bom
  </title>
  <link rel="stylesheet" href="/public/css/index.css">
  <link rel="stylesheet" href="/public/css/markdown.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <script src="/public/JavaScript/index.js"></script>
</head><header class="blog-header">
  <a href="https://github.com/fwqaaq" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/82551626?v=4" loading="lazy" alt="me" srcset="">
  </a>
  <nav class="header-nav">
    <a class="decoration-line" href="/"><i class="fa-solid fa-house-chimney fa-xs"></i>
      <span class="disappear">Home</span>
    </a>
    <a class="decoration-line" href="/./about/index.html"><i class="fa-solid fa-address-card fa-xs"></i>
      <span class="disappear">About</span></a>
    <a class="decoration-line" href="/./archive/index.html"><i class="fa-solid fa-box-archive fa-xs"></i> <span
        class="disappear">Archive</span></a>
    <a class="decoration-line" href="/./tags/index.html"><i class="fa-solid fa-tag fa-xs"></i> <span
        class="disappear">Tag</span></a>
    <div class="toy"><i class="fa-solid fa-gamepad fa-xs"></i> <span class="disappear">Toy</span>
      <nav class="toy-nav disappear">
        <a class="decoration-line" href="/public/resume/">æˆ‘çš„ç®€å†</a>
        <a class="decoration-line" href="/public/write-css/index.html">å­¦ä¹  UI</a>
      </nav>
    </div>
    <a class="decoration-line" href="/feed.xml"><i class="fa-solid fa-rss fa-xs"></i> <span
        class="disappear">RSS</span></a>
    <a class="decoration-line model" href="#" class="model"><i class="fa-solid fa-sun fa-xs"></i></a>
  </nav>
</header><main class="blog-main">
          <article class="blog-article">
            <h1>bom</h1>
            <hr>
            <h2 id="viewport">Viewport<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#viewport"></a></h2>
<div class="markdown-alert markdown-alert-tip">
<p class="markdown-alert-title"><svg class="octicon octicon-light-bulb mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p>
<p>è§†å£ä»£è¡¨ä¸€ä¸ªå¯çœ‹è§çš„å¤šè¾¹å½¢åŒºåŸŸï¼ˆé€šå¸¸æ˜¯çŸ©å½¢ï¼‰.åœ¨æµè§ˆå™¨çš„èŒƒç•´é‡Œï¼Œä»–ä»£è¡¨çš„å°±æ˜¯æµè§ˆå™¨ç½‘ç«™ä¸­å¯è§å†…å®¹çš„éƒ¨åˆ†ï¼Œè§†å£å¤–çš„å†…å®¹åœ¨è¢«æ»šåŠ¨è¿›æ¥å‰éƒ½æ˜¯ä¸å¯è§çš„</p>
</div>
<ul>
<li><strong>å¯è§è§†å£</strong>ï¼šè§†å£å½“å‰å¯è§çš„éƒ¨åˆ†ã€‚å¯è§è§†å£å¯èƒ½å›é¿å¸ƒå±€è§†å£æ›´å°ï¼Œå› ä¸ºå½“ç”¨æˆ·ç¼©å°æµè§ˆå™¨çš„æ¯”ä¾‹ï¼Œå¸ƒå±€è§†å£ä¸å˜ï¼Œè€Œå¯è§è§†å£ä¼šå˜å°</li>
<li><strong>å¸ƒå±€è§†å£</strong>ï¼šæ˜¯æµè§ˆå™¨åœ¨å…¶ä¸­ç»˜åˆ¶ç½‘é¡µçš„è§†å£ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œå®ƒè¡¨ç¤ºå¯æŸ¥çœ‹çš„å†…å®¹ï¼Œè€Œå¯è§†è§†å£è¡¨ç¤ºç”¨æˆ·æ˜¾ç¤ºè®¾å¤‡ä¸Šå½“å‰å¯è§çš„å†…å®¹</li>
</ul>
<h3 id="æµè§ˆå™¨çª—å£å¤§å°">æµè§ˆå™¨çª—å£å¤§å°<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#æµè§ˆå™¨çª—å£å¤§å°"></a></h3>
<ol>
<li><code>innerWidth</code>ã€<code>innerHeight</code>ï¼šè¿”å›æµè§ˆå™¨çª—å£ä¸­é¡µé¢<strong>å¯è§è§†å£</strong>çš„å¤§å°ï¼ˆä¸åŒ…å«è¾¹æ¡†ï¼Œå·¥å…·æ ï¼‰
<ul>
<li>ä½¿ç”¨ï¼š<code>window.innerWidth</code></li>
</ul>
</li>
<li><code>outerWidth</code>ã€<code>outerHeight</code>ï¼šè¿”å›æµè§ˆå™¨çª—å£è‡ªèº«çš„å¤§å°ï¼ˆæ•´ä¸ªæµè§ˆå™¨ï¼ŒåŒ…å«è¾¹æ¡†ï¼Œå·¥å…·æ ï¼‰
<ul>
<li>ä½¿ç”¨ï¼š<code>window.outerWidth</code></li>
</ul>
</li>
<li><code>scrollX</code>ã€<code>scrollY</code>ï¼šè¿”å›æ–‡æ¡£å½“å‰æ°´å¹³æ»šåŠ¨å’Œå‚ç›´æ»šåŠ¨çš„åƒç´ æ•°
<ul>
<li>ä½¿ç”¨<code>window.scroll(0,0)</code>ï¼šè¿™æ ·ä¼šæŠŠæ–‡æ¡£é‡æ–°æ»šåŠ¨åˆ°å·¦ä¸Šè§’</li>
</ul>
</li>
<li><code>clientWidth</code>ã€<code>clientHeight</code>ï¼šè¿”å›<strong>å¸ƒå±€è§†å£å…ƒç´ </strong>çš„å¤§å°
<ul>
<li>ä½¿ç”¨ï¼š<code>document.documentElement.clientWidth</code></li>
</ul>
</li>
<li><code>screen.height</code>ã€<code>screen.width</code>ï¼šè¿”å›å±å¹•ï¼ˆæ•´ä¸ªæ˜¾ç¤ºå™¨ï¼‰çš„å¤§å°</li>
<li><code>screen.availHeight</code>ã€<code>screen.availWidth</code>ï¼šè¿”å›å¯ä½¿ç”¨çš„å±å¹•é«˜åº¦æˆ–è€…å®½åº¦ï¼ˆä¸ä¼šåŒ…æ‹¬å›ºå®šçš„ä»»åŠ¡æ ç­‰ä¸å¯ä½¿ç”¨çš„åŒºåŸŸï¼‰</li>
</ol>
<blockquote>
<p>æ³¨æ„ï¼šå¸ƒå±€è§†å£ç›¸å¯¹äºå¯è§è§†å£çš„æ¦‚å¿µ.å¯è§è§†å£åªèƒ½æ˜¾ç¤ºé¡µé¢çš„ä¸€å°éƒ¨åˆ†ã€‚</p>
</blockquote>
<p><img src="https://media.githubusercontent.com/media/fwqaaq/fwqaaq.github.io/dev/src/picture/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%A7%86%E5%8F%A3.png" alt="æµè§ˆå™¨è§†å£"></p>
<ul>
<li><strong>ç§»åŠ¨çª—å£</strong>ï¼ˆmoveToã€moveByï¼‰å’Œ<strong>ç¼©æ”¾çª—å£</strong>ï¼ˆresizeToã€resizeByï¼‰æ–¹æ³•ä¸€èˆ¬æµè§ˆå™¨ä¼šç¦ç”¨</li>
</ul>
<h3 id="dom-å…ƒç´ å¤§å°">DOM å…ƒç´ å¤§å°<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#dom-å…ƒç´ å¤§å°"></a></h3>
<ol>
<li><code>clientWidth</code>ã€<code>clientHeight</code>ï¼šCSS çš„ width/height å’Œ padding å±æ€§å€¼ä¹‹å’Œ
<ul>
<li>å…ƒç´ è¾¹æ¡†å’Œæ»šåŠ¨æ¡ä¸åŒ…æ‹¬åœ¨å†…ï¼Œä¹Ÿä¸åŒ…å«ä»»ä½•å¯èƒ½çš„æ»šåŠ¨åŒºåŸŸ</li>
</ul>
</li>
<li><code>offsetWidth</code>ã€<code>offsetHeight</code>ï¼šå…ƒç´ åœ¨é¡µé¢ä¸­å æ®çš„ width/height æ€»å’Œï¼ŒåŒ…æ‹¬ widthã€paddingã€border ä»¥åŠæ»šåŠ¨æ¡çš„å®½åº¦</li>
<li><code>offsetLeft</code>ã€<code>offsetTop</code>ï¼šåªè¯»ã€‚è¿”å›å…ƒç´ å·¦ä¸Šè§’ç›¸å¯¹äº <code>HTMLElement.offsetParent</code>ï¼ˆçˆ¶å…ƒç´ ä¸æ˜¯ <code>display:none</code>ï¼‰èŠ‚ç‚¹çš„å·¦æˆ–è€…ä¸Šè¾¹ç•Œçš„åç§»é‡</li>
<li><code>scrollWidth</code>ã€<code>scrollHeight</code> å½“å…ƒç´ ä¸æ˜¯ <code>overflow:hidden</code> æ ·å¼å±æ€§æ—¶ï¼Œå…ƒç´ çš„æ€»å®½åº¦ï¼ˆæ»šåŠ¨å®½åº¦ï¼‰
<ul>
<li>åœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œå¦‚æœè¯¥å±æ€§å€¼å¤§äº clientWidth å±æ€§å€¼ï¼Œåˆ™å…ƒç´ ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ï¼Œä»¥ä¾¿èƒ½å¤Ÿç¿»é˜…è¢«éšè—çš„åŒºåŸŸ</li>
</ul>
</li>
</ol>
<h3 id="event-äº‹ä»¶ä¸Šçš„å…ƒç´ å¤§å°">event äº‹ä»¶ä¸Šçš„å…ƒç´ å¤§å°<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#event-äº‹ä»¶ä¸Šçš„å…ƒç´ å¤§å°"></a></h3>
<div class="markdown-alert markdown-alert-important">
<p class="markdown-alert-title"><svg class="octicon octicon-report mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p>
<p>è¯¥å…ƒç´ åªä¼šåœ¨ eventï¼ˆå¦‚ clickã€mousemove ç­‰ï¼‰ä¸Šæ‰æœ‰çš„å±æ€§</p>
</div>
<ul>
<li>
<p>ä»¥ä¸‹å±æ€§çš„æ–¹ä½éƒ½æ˜¯ç›¸å¯¹äºå·¦ä¸Šæ–¹ä¸ºåŸç‚¹çš„åæ ‡ç³»ï¼Œè¶Šå¾€å³/ä¸‹ï¼Œå€¼è¶Šå¤§</p>
</li>
<li>
<p><code>offsetX</code>ã€<code>offsetY</code>ï¼šé¼ æ ‡ç›¸å¯¹äºç›®æ ‡å…ƒç´ çš„è·ç¦»ã€‚</p>
<ul>
<li>å‚ç…§ç‚¹æ˜¯ç›®æ ‡å…ƒç´ çš„å·¦ä¸Šè§’</li>
</ul>
</li>
<li>
<p><code>clientX</code>ã€<code>clientY</code>ï¼šé¼ æ ‡ç›¸å¯¹äºæµè§ˆå™¨è§†å£çš„è·ç¦»ã€‚</p>
<ul>
<li>å‚ç…§ç‚¹æ˜¯ç›®æ ‡å…ƒç´ çš„å·¦ä¸Šè§’ï¼Œè®¡ç®—é¼ æ ‡ç‚¹è·ç¦»æµè§ˆå™¨å†…å®¹åŒºåŸŸçš„å·¦ä¸Šè§’çš„è·ç¦»ï¼ˆä¸åŒ…å«ä»»ä½•å¯èƒ½çš„æ»šåŠ¨åŒºåŸŸï¼‰</li>
</ul>
</li>
<li>
<p><code>layerX</code>ã€<code>layerY</code>ï¼šé¼ æ ‡ç›¸å¯¹äºå®šä½å±æ€§çš„è·ç¦»ã€‚</p>
<ul>
<li>å‚ç…§ç‚¹æ˜¯çˆ¶å…ƒç´ ï¼ˆå¦‚æœè‡ªèº«æœ‰å®šä½å±æ€§çš„è¯å°±æ˜¯ç›¸å¯¹äºè‡ªèº«ï¼‰éƒ½æ²¡æœ‰çš„è¯ï¼šå°±æ˜¯ç›¸å¯¹äº body å…ƒç´ </li>
</ul>
</li>
<li>
<p><code>pageX</code>ã€<code>pageY</code>ï¼šé¼ æ ‡ç›¸å¯¹ä¸æ•´ä¸ªé¡µé¢å·¦ä¸Šè§’çš„è·ç¦»ã€‚</p>
<ul>
<li>å‚ç…§ç‚¹æ˜¯é¡µé¢æœ¬èº«çš„ body åŸç‚¹ã€‚ä¼šä»¥ body å·¦ä¸Šè§’è®¡ç®—å€¼ï¼Œå¹¶ä¸”æŠŠæ»šåŠ¨æ¡æ»šè¿‡çš„é«˜æˆ–å®½è®¡ç®—åœ¨å†…ï¼ˆå—æ»šåŠ¨åŒºåŸŸå½±å“ï¼‰</li>
</ul>
</li>
<li>
<p><code>screenX</code>ã€<code>screenY</code>ï¼šé¼ æ ‡ç›¸å¯¹äºå±å¹•çš„è·ç¦»ã€‚</p>
<ul>
<li>å‚ç…§ç‚¹æ˜¯å±å¹•çš„å·¦ä¸Šè§’</li>
</ul>
</li>
</ul>
<h2 id="location">location<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#location"></a></h2>
<blockquote>
<p><code>window.location</code> å’Œ <code>document.location</code>æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</p>
</blockquote>





















































<table><thead><tr><th>å±æ€§</th><th>æè¿°</th></tr></thead><tbody><tr><td>Location.href</td><td>åŒ…å«æ•´ä¸ª URL,location çš„ toString() æ–¹æ³•è¿”å›</td></tr><tr><td>Location.protocol</td><td>é¡µé¢ä½¿ç”¨çš„åè®®ã€‚é€šå¸¸åŒ…æ‹¬<code>http</code>æˆ–<code>https:</code></td></tr><tr><td>Location.host</td><td>æœåŠ¡å™¨åå’Œç«¯å£å·</td></tr><tr><td>Location.hostname</td><td>æœåŠ¡å™¨å</td></tr><tr><td>Location.port</td><td>ç«¯å£å·</td></tr><tr><td>Location.pathname</td><td>url çš„è·¯å¾„</td></tr><tr><td>Location.search</td><td>æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚ä»¥ <code>?</code> å¼€å¤´</td></tr><tr><td>Location.hash</td><td>å“ˆå¸Œæ•£åˆ—å€¼ï¼Œå¼€å¤´æœ‰ä¸€ä¸ªâ€œ#â€</td></tr><tr><td>Location.username</td><td>åŸŸåå‰æŒ‡å®šçš„ç”¨æˆ·å</td></tr><tr><td>Location.password</td><td>åŸŸåå‰æŒ‡å®šçš„å¯†ç </td></tr><tr><td>Location.origin</td><td>url çš„æºåœ°å€</td></tr></tbody></table>
<blockquote>
<p>æŸ¥è¯¢å­—ç¬¦ä¸²çš„è§£ç  <code>decodeURIComponent</code> å’Œç¼–ç  <code>encodeURIComponent</code></p>
</blockquote>
<ol>
<li><code>encodeURIComponent()</code>ï¼šåŸå­—ä¸²ä½œä¸º URI ç»„æˆéƒ¨åˆ†è¢«ç¼–ç åç»„æˆçš„æ–°å­—ç¬¦ä¸²</li>
<li>è½¬ä¹‰é™¤äº†å¦‚ä¸‹æ‰€ç¤ºçš„æ‰€æœ‰æ–‡å­— <code>A-Z a-z 0-9 - _ . ! ~ * ' ( )</code></li>
<li>åä¹‹ï¼Œ<code>decodeURIComponent()</code> å°±æ˜¯å°†ç¼–ç ä¹‹åçš„å­—ç¬¦ä¸²è§£ç </li>
</ol>
<pre><code class="hl language-js"><span class="hl-built_in">encodeURIComponent</span>(<span class="hl-string">"#"</span>);
<span class="hl-comment">//'%23'</span>
<span class="hl-built_in">decodeURIComponent</span>(<span class="hl-string">"%23"</span>);
<span class="hl-comment">//'#'</span>
</code></pre>
<ul>
<li><code>URLSearchParams</code>ï¼šç»™æ„é€ å‡½æ•°ä¼ å…¥ä¸€ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²å³å¯åˆ›é€ ä¸€ä¸ªå®ä¾‹ã€‚å¹¶ä¸”æš´éœ²äº† <code>get()</code>ã€<code>has()</code>ã€<code>delete()</code> ç­‰ç­‰ï¼ŒåŒæ—¶å¯ä»¥ä½œä¸ºå¯è¿­ä»£å¯¹è±¡</li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">let</span> searchParams = <span class="hl-keyword">new</span> <span class="hl-title class_">URLSearchParams</span>(<span class="hl-string">"?name=zhangsan&#x26;sex=gender"</span>);
searchParams.<span class="hl-title function_">has</span>(<span class="hl-string">"name"</span>); <span class="hl-comment">//true</span>
searchParams.<span class="hl-title function_">get</span>(<span class="hl-string">"name"</span>); <span class="hl-comment">//zhangsan</span>
searchParams.<span class="hl-title function_">set</span>(<span class="hl-string">"age"</span>, <span class="hl-string">"15"</span>);
searchParams.<span class="hl-title function_">toString</span>();
<span class="hl-comment">//'name=zhangsan&#x26;sex=gender&#x26;age=15'</span>
</code></pre>
<blockquote>
<p>æ“ä½œåœ°å€</p>
</blockquote>
<ul>
<li>ä¾‹å¦‚ï¼š<code>location.assign("www.baidu.com")</code>ï¼Œå¦‚æœä½¿ç”¨ <code>location.href</code> è®¾ç½®ä¸€ä¸ª urlï¼Œä¹Ÿä¼šä»¥åŒä¸€ä¸ª url å€¼è°ƒç”¨ assign() æ–¹æ³•</li>
<li>é™¤äº† <strong>hash</strong> ä¹‹å¤–ï¼Œåªè¦ä¿®æ”¹äº† <code>location</code> çš„ä¸€ä¸ªå±æ€§ï¼Œå°±ä¼šå¯¼è‡´é¡µé¢é‡æ–°åŠ è½½ url</li>
</ul>
<div class="markdown-alert markdown-alert-note">
<p class="markdown-alert-title"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>å¦‚æœä¸å¸Œæœ›æµè§ˆå™¨çš„æ“ä½œåœ°å€å¢åŠ ï¼Œå¯ä»¥ä½¿ç”¨ <code>location.replace()</code>ï¼Œç”¨æˆ·ä¸èƒ½å›åˆ°å‰ä¸€é¡µ</p>
<p><code>location.reload()</code>ï¼šé‡æ–°åŠ è½½å½“å‰æ˜¾ç¤ºé¡µé¢</p>
<ul>
<li>å¦‚æœä¸ä¼ å‚æ•°ï¼Œä¼šä»¥æœ€æœ‰æ•ˆçš„æ–¹å¼åŠ è½½ (å¯èƒ½æ˜¯ç¼“å­˜)</li>
<li>å¦‚æœä¼  <code>true</code>ï¼Œä¼šä»æœåŠ¡å™¨åŠ è½½</li>
</ul>
</div>
<h2 id="url">URL<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#url"></a></h2>
<blockquote>
<p>URL ç”¨äºè§£æï¼Œæ„é€ ï¼Œè§„èŒƒåŒ–å’Œç¼–ç  urlã€‚å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒ <code>new URL()</code> æ„é€ å‡½æ•°ã€‚å¯ä»¥ä½¿ç”¨ <code>new window.URL()</code></p>
</blockquote>
<h3 id="new-url">new URL()<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#new-url"></a></h3>
<blockquote>
<p>æ„é€ å‡½æ•°ï¼šnew URL(url[,base])</p>
</blockquote>
<ul>
<li><code>url</code>ï¼šè¡¨ç¤ºç»å¯¹æˆ–è€…ç›¸å¯¹çš„ url.å¦‚æœæ˜¯ç»å¯¹çš„ urlï¼Œæ— è®º baseurl æœ‰æ²¡æœ‰å‚æ•°éƒ½ä¼šè¢«å¿½ç•¥ã€‚å¦‚æœæ˜¯ç›¸å¯¹çš„ urlï¼Œåˆ™å‚æ•°ä¼šæ·»åŠ åˆ° baseurl å</li>
<li><code>base</code>ï¼šå¯é€‰çš„ï¼Œè¡¨ç¤ºåŸºå‡†çš„ urlã€‚åªæœ‰ url æ˜¯å¸¦åè®®æ‰å¯ä»¥ç”Ÿæ•ˆã€‚å¦åˆ™æŠ¥ä¸€ä¸ª TypeError</li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">let</span> baseurl = <span class="hl-string">"https://www.baidu.com/laji"</span>;

<span class="hl-comment">//å¿½ç•¥å‚æ•°</span>
<span class="hl-keyword">new</span> <span class="hl-title function_">URL</span>(<span class="hl-string">"/zhenlan"</span>, baseurl); <span class="hl-comment">//https://www.baidu.com/zhenlan</span>

<span class="hl-comment">//TypeError</span>
<span class="hl-keyword">new</span> <span class="hl-title function_">URL</span>(<span class="hl-string">"www.baidu.com"</span>);

<span class="hl-keyword">new</span> <span class="hl-title function_">URL</span>(<span class="hl-string">"https://www.baidu.com"</span>); <span class="hl-comment">//https://www.baidu.com</span>
</code></pre>
<ul>
<li><code>hash</code>ï¼šè¿”å›åŒ…å« URL æ ‡è¯†ä¸­çš„ '#' å’Œ fragment æ ‡è¯†ç¬¦</li>
<li><code>host</code>ï¼šè¿”å›ä¸€ä¸ªä¸»æœºä¿¡æ¯ã€‚å³ <code>hostname</code>,å¦‚æœ URL æ¥å£æœ‰ç«¯å£å·ï¼ˆå¦‚æœæ˜¯é»˜è®¤ç«¯å£å·ï¼Œåˆ™ä¸ä¼šåŒ…å«ï¼‰ï¼Œä¹Ÿä¼šåŒ…å«ç«¯å£å·</li>
<li><code>hostname</code>ï¼šä¸åŒ…å«ç«¯å£å·çš„ä¸»æœºä¿¡æ¯</li>
<li><code>href</code>ï¼šè¿”å›ä¸€ä¸ªå®Œæ•´çš„ url</li>
<li><code>origin</code>ï¼šåªè¯»å±æ€§ã€‚
<ul>
<li>å¦‚æœæ˜¯ <code>http</code> æˆ–è€…æ˜¯ <code>https</code>ï¼Œè¿”å›æºåœ°å€</li>
<li>å¦‚æœæ˜¯ ftp åè®®ï¼Œè§†æµè§ˆå™¨è€Œå®š</li>
<li>å¦‚æœæ˜¯ <code>blob:</code> åè®®ï¼Œè¿”å›çš„æ˜¯ <code>blob:</code> ç´§è·Ÿçš„æºåœ°å€
<ul>
<li><code>"blob:https://mozilla.org"</code> è¿”å› <code>https://mozilla.org</code></li>
</ul>
</li>
</ul>
</li>
<li><code>pathname</code>ï¼šè¿”å›ä¸€ä¸ªåˆå§‹ <code>/</code> å’Œ URL çš„è·¯å¾„ï¼ˆå¦‚æœæ²¡æœ‰è·¯å¾„ï¼Œåˆ™ä¸ºç©ºå­—ç¬¦ä¸²ï¼‰</li>
<li><code>port</code>ï¼šå¦‚æœ url ä¸­åŒ…å«æ˜ç¡®çš„ç«¯å£ä¿¡æ¯ï¼Œåˆ™è¿”å›ä¸€ä¸ªç«¯å£å·ã€‚å¦åˆ™è¿”å› <code>""</code></li>
<li><code>protocol</code>ï¼šè¿”å›ä¸€ä¸ª url çš„åè®®å€¼</li>
<li><code>search</code>ï¼šè¿”å›ä¸€ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²ã€‚<code>?</code> ç´§è·Ÿçš„</li>
<li><code>searchParams</code>ï¼šè¿”å›ä¸€ä¸ª <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams">URLSearchParams</a>ã€‚è¿™ä¸ªå¯¹è±¡åŒ…å«å½“å‰ URL ä¸­è§£ç åçš„ GET æŸ¥è¯¢å‚æ•°</li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">const</span> url = <span class="hl-keyword">new</span> <span class="hl-title function_">URL</span>(
  <span class="hl-string">"https://developer.mozilla.org:3300/en-US/docs/Web/API/URL/href?q=123#Examples"</span>,
);
<span class="hl-keyword">const</span> hash = url.<span class="hl-property">hash</span>; <span class="hl-comment">//#Examples</span>
<span class="hl-keyword">const</span> host = url.<span class="hl-property">host</span>; <span class="hl-comment">//developer.mozilla.org:3300</span>
<span class="hl-keyword">const</span> host = url.<span class="hl-property">hostname</span>; <span class="hl-comment">//developer.mozilla.org</span>
<span class="hl-keyword">const</span> host = url.<span class="hl-property">href</span>; <span class="hl-comment">//https://developer.mozilla.org:3300/en-US/docs/Web/API/URL/href#Examples</span>
<span class="hl-keyword">const</span> origin = url.<span class="hl-property">origin</span>; <span class="hl-comment">//https://developer.mozilla.org</span>
<span class="hl-keyword">const</span> pathname = url.<span class="hl-property">pathname</span>; <span class="hl-comment">///en-US/docs/Web/API/URL/href</span>
<span class="hl-keyword">const</span> port = url.<span class="hl-property">port</span>; <span class="hl-comment">//3300</span>
<span class="hl-keyword">const</span> protocol = url.<span class="hl-property">protocol</span>; <span class="hl-comment">//https</span>
<span class="hl-keyword">const</span> search = url.<span class="hl-property">search</span>; <span class="hl-comment">//?q=123</span>
</code></pre>
<ul>
<li><code>username</code>ï¼šåŒ…å«åŸŸåå‰æŒ‡å®šçš„ username</li>
<li><code>password</code>ï¼šè¿”å›åŸŸåä¹‹å‰æŒ‡å®šçš„å¯†ç </li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">const</span> url = <span class="hl-keyword">new</span> <span class="hl-title function_">URL</span>(
  <span class="hl-string">"https://anonymous:flabada@developer.mozilla.org/en-US/docs/Web/API/URL/password"</span>,
);
<span class="hl-keyword">const</span> password = url.<span class="hl-property">password</span>; <span class="hl-comment">//flabada</span>
<span class="hl-keyword">const</span> username = url.<span class="hl-property">username</span>; <span class="hl-comment">//anonymous</span>
</code></pre>
<p>é™æ€æ–¹æ³•</p>
<ol>
<li><code>URL.createObjectURL(object)</code>:åˆ›å»ºä¸€ä¸ªè¡¨ç¤ºå‚æ•°ä¸­ç»™å‡ºçš„å¯¹è±¡çš„ URL
<ul>
<li>è¿™ä¸ªæ–°çš„ URL å¯¹è±¡è¡¨ç¤ºæŒ‡å®šçš„<code>File</code>å¯¹è±¡æˆ–<code>Blob</code>å¯¹è±¡</li>
<li><code>object</code>:ç”¨äºåˆ›å»º URL çš„<code>File</code>å¯¹è±¡ï¼Œ<code>Blob</code>å¯¹è±¡æˆ–è€…<code>MediaSource</code>å¯¹è±¡</li>
<li>è¿”å›ä¸€ä¸ªç”¨äºæŒ‡å®šæºçš„ URL</li>
</ul>
</li>
<li><code>URL.revokeObjectURL(objectURL)</code>:é‡Šæ”¾ä¸€ä¸ªä¹‹å‰å·²ç»å­˜åœ¨çš„ï¼Œé€šè¿‡è°ƒç”¨<code>URL.createObjectURL()</code>åˆ›å»ºçš„ URL å¯¹è±¡
<ul>
<li><code>objectURL</code>:é€šè¿‡è°ƒç”¨<code>URL.createObjectURL()</code>æ–¹æ³•äº§ç”Ÿçš„ URL å¯¹è±¡</li>
</ul>
</li>
<li><code>URL.toString()</code>ä¸<code>URL.toJSON()</code>ä¸<code>url.href</code>ä¸€æ ·ï¼Œè¿”å›åºåˆ—åŒ–çš„ url</li>
</ol>
<h3 id="urlsearchparams"><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams/append">URLSearchParams</a><a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#urlsearchparams"></a></h3>
<p>è¯¥æ¥å£å®šä¹‰äº†ä¸€äº›å®ç”¨çš„æ–¹æ³•æ¥å¤„ç† URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²</p>
<h4 id="new-urlsearchparams">new URLSearchParams()<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#new-urlsearchparams"></a></h4>
<p><code>URLSearchParams()</code> æ„é€ å™¨åˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ <code>URLSearchParams</code> å¯¹è±¡ã€‚å¹¶ä¸”ä¼šå¿½ç•¥ <code>?</code></p>
<ul>
<li><code>const URLSearchParams = new URLSearchParams(init)</code></li>
<li><code>init</code>:éœ€è¦ USVString(å¯¹åº” unicode æ ‡é‡å€¼çš„æ‰€æœ‰å¯èƒ½åºåˆ—çš„é›†åˆ)</li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">new</span> <span class="hl-title class_">URLSearchParams</span>(<span class="hl-string">"?foo=1&#x26;bar=2"</span>);
<span class="hl-keyword">new</span> <span class="hl-title class_">URLSearchParams</span>(url.<span class="hl-property">search</span>);
<span class="hl-keyword">new</span> <span class="hl-title class_">URLSearchParams</span>([[<span class="hl-string">"foo"</span>, <span class="hl-number">1</span>], [<span class="hl-string">"bar"</span>, <span class="hl-number">2</span>]]);
<span class="hl-keyword">new</span> <span class="hl-title class_">URLSearchParams</span>({ <span class="hl-string">"foo"</span>: <span class="hl-number">1</span>, <span class="hl-string">"bar"</span>: <span class="hl-number">2</span> });
</code></pre>
<p>æ–¹æ³•</p>
<ul>
<li><code>append(name, value)</code>ï¼šå¯ä»¥æ’å…¥ä¸€ä¸ªæ–°æœç´¢å‚æ•°</li>
<li><code>getAll(name)</code>ï¼šä»¥æ•°ç»„çš„å½¢å¼è¿”å›ä¸æŒ‡å®šæœç´¢å‚æ•°å¯¹åº”çš„æ‰€æœ‰å€¼</li>
<li><code>get(name)</code>ï¼šè¿”å›ç¬¬ä¸€ä¸ªä¸æœç´¢å‚æ•°å¯¹åº”çš„å€¼</li>
<li><code>has(name)</code>ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŸ¥æ‰¾çš„é”®åæ˜¯å¦å­˜åœ¨</li>
<li><code>set()</code>ï¼šè®¾ç½®å’Œæœç´¢å‚æ•°ç›¸å…³è”çš„å€¼ã€‚å¦‚æœè®¾ç½®å‰å·²ç»å­˜åœ¨åŒ¹é…çš„å€¼ï¼Œè¯¥æ–¹æ³•ä¼šåˆ é™¤å¤šä½™çš„ï¼Œå¦‚æœå°†è¦è®¾ç½®çš„å€¼ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºå®ƒ</li>
<li><code>delete(name)</code>ï¼šå¯ä»¥åˆ é™¤æŒ‡å®šåç§°çš„æ‰€æœ‰æœç´¢å‚æ•°</li>
<li><code>sort()</code>ï¼šå¯¹å¯¹è±¡ä¸­çš„æ‰€æœ‰é”®/å€¼å¯¹è¿›è¡Œæ’åºã€‚æŒ‰ unicode ç¼–ç </li>
<li><code>entries()</code>ï¼šè¿”å›ä¸€ä¸ª <code>iterator</code>ï¼Œå…è®¸éå†è¯¥å¯¹è±¡ä¸­åŒ…å«çš„æ‰€æœ‰é”®/å€¼å¯¹</li>
<li><code>forEach(callback)</code>ï¼šè¯¥å›è°ƒå‡½æ•°å¯ä»¥æ¥æ”¶åˆ° 3 ä¸ªå‚æ•° valueã€keyã€searchParams</li>
<li><code>keys()</code>ï¼šè¿”å›ä¸€ä¸ª iteratorï¼Œéå†å™¨å…è®¸éå†å¯¹è±¡ä¸­åŒ…å«çš„æ‰€æœ‰é”®</li>
<li><code>values()</code>ï¼šè¿”å›ä¸€ä¸ª iteratorï¼Œéå†å™¨å…è®¸éå†å¯¹è±¡ä¸­åŒ…å«çš„æ‰€æœ‰å€¼</li>
<li><code>toString()</code>ï¼šè¿”å›é€‚ç”¨åœ¨ URL ä¸­çš„æŸ¥è¯¢å­—ç¬¦ä¸²</li>
</ul>
<pre><code class="hl language-js"><span class="hl-keyword">let</span> url = <span class="hl-keyword">new</span> <span class="hl-title function_">URL</span>(<span class="hl-string">"https://example.com?foo=1&#x26;bar=2"</span>);
<span class="hl-keyword">let</span> params = <span class="hl-keyword">new</span> <span class="hl-title class_">URLSearchParams</span>(url.<span class="hl-property">search</span>);
params.<span class="hl-title function_">getAll</span>(<span class="hl-string">"foo"</span>); <span class="hl-comment">//['1', '4']</span>
params.<span class="hl-title function_">get</span>(<span class="hl-string">"foo"</span>); <span class="hl-comment">//'1'</span>
params.<span class="hl-title function_">append</span>(<span class="hl-string">"foo"</span>, <span class="hl-number">4</span>); <span class="hl-comment">//foo=1&#x26;bar=2&#x26;foo=4</span>
params.<span class="hl-title function_">has</span>(<span class="hl-string">"bar"</span>); <span class="hl-comment">// true</span>
params.<span class="hl-title function_">set</span>(<span class="hl-string">"foo"</span>, <span class="hl-number">2</span>); <span class="hl-comment">//foo=2&#x26;bar=2</span>
params.<span class="hl-title function_">delete</span>(<span class="hl-string">"foo"</span>); <span class="hl-comment">//bar=2</span>
params.<span class="hl-title function_">set</span>(<span class="hl-string">"foo"</span>, <span class="hl-number">4</span>);

<span class="hl-comment">//entries</span>
<span class="hl-keyword">for</span> (<span class="hl-keyword">let</span> [key, value] <span class="hl-keyword">of</span> params.<span class="hl-title function_">entries</span>()) {
  <span class="hl-variable language_">console</span>.<span class="hl-title function_">log</span>(key, value);
  <span class="hl-comment">//bar 2</span>
  <span class="hl-comment">//foo 4</span>
}

<span class="hl-comment">//forEach</span>
params.<span class="hl-title function_">forEach</span>(<span class="hl-function">(<span class="hl-params">item, key</span>) =></span> <span class="hl-variable language_">console</span>.<span class="hl-title function_">log</span>(item, key));
<span class="hl-comment">//bar 2</span>
<span class="hl-comment">//foo 4</span>

<span class="hl-comment">//keys()</span>
<span class="hl-variable language_">console</span>.<span class="hl-title function_">log</span>(...params.<span class="hl-title function_">keys</span>());
<span class="hl-comment">//bar foo</span>

<span class="hl-comment">//values()</span>
<span class="hl-variable language_">console</span>.<span class="hl-title function_">log</span>(...params.<span class="hl-title function_">values</span>());
<span class="hl-comment">//2 4</span>

params.<span class="hl-title function_">toString</span>();
<span class="hl-comment">//'bar=2&#x26;foo=4'</span>
</code></pre>
<h2 id="history">History<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#history"></a></h2>
<ol>
<li><code>history.go(-1)</code> ç›¸å½“äº <code>history.back()</code>ï¼šåé€€ä¸€é¡µ</li>
<li><code>history.go(1)</code> ç›¸å½“äº <code>history.forward()</code>ï¼šå‰è¿›ä¸€é¡µ</li>
<li>å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ï¼šå¯èƒ½å‰è¿›ä¹Ÿå¯èƒ½åé€€</li>
<li><code>history.length</code>ï¼šè¿”å›å…·ä½“çš„æ•°ç›®</li>
</ol>
<div class="markdown-alert markdown-alert-note">
<p class="markdown-alert-title"><svg class="octicon octicon-info mr-2" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>å¦‚æœé¡µé¢çš„ url å‘ç”Ÿå˜åŒ–ï¼Œåˆ™ä¼šåœ¨å†å²è®°å½•ä¸­ç”Ÿæˆä¸€ä¸ªæ–°æ¡ç›®ã€‚è¿™ä¹ŸåŒ…æ‹¬ url çš„æ•£åˆ—å€¼ (<code>location.hash</code>)</p>
</div>
<h3 id="ç®¡ç†å†å²çŠ¶æ€">ç®¡ç†å†å²çŠ¶æ€<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#ç®¡ç†å†å²çŠ¶æ€"></a></h3>
<ol>
<li><code>history.pushState()</code>ï¼šæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œ<code>state</code> å¯¹è±¡ã€ä¸€ä¸ªæ–°çŠ¶æ€çš„æ ‡é¢˜ã€ç›¸å¯¹çš„ urlï¼ˆå¯é€‰ï¼‰</li>
<li>ä¸€æ—¦ <code>pushState()</code> æ–¹æ³•æ‰§è¡Œåï¼ŒçŠ¶æ€ä¿¡æ¯å°±ä¼šè¢«æ¨åˆ°å†å²è®°å½•ä¸­ï¼Œæµè§ˆå™¨åœ°å€æ ä¹Ÿä¼šç›¸åº”å˜åŒ–æ–°çš„ urlã€‚ä¹Ÿå°±ä¼šç›¸åº”çš„å¯ç”¨åé€€æŒ‰é’®</li>
<li>å½“æ´»åŠ¨å†å²è®°å½•æ¡ç›®æ›´æ”¹æ—¶ï¼Œå°†è§¦å‘ <code>popstate</code> äº‹ä»¶å¦‚æœè¢«æ¿€æ´»çš„å†å²è®°å½•æ¡ç›®æ˜¯é€šè¿‡å¯¹ <code>history.pushState()</code> çš„è°ƒç”¨åˆ›å»ºï¼Œæˆ–è€…å—åˆ°å¯¹ <code>history.replaceState()</code> çš„è°ƒç”¨çš„å½±å“ï¼Œpopstate äº‹ä»¶çš„ state å±æ€§åŒ…å«å†å²æ¡ç›®çš„çŠ¶æ€å¯¹è±¡çš„å‰¯æœ¬</li>
<li>æ³¨æ„ç”¨ <code>history.pushState()</code> æˆ– <code>history.replaceState()</code> ä¸ä¼šè§¦å‘ popstate äº‹ä»¶åªæœ‰åœ¨åšå‡ºæµè§ˆå™¨åŠ¨ä½œæ—¶ï¼Œæ‰ä¼šè§¦å‘è¯¥äº‹ä»¶</li>
<li>æµ‹è¯•ï¼š<a href="http://example.com/example.html">http://example.com/example.html</a></li>
</ol>
<pre><code class="hl language-js"><span class="hl-variable language_">window</span>.<span class="hl-title function_">addEventListener</span>(<span class="hl-string">"popstate"</span>, <span class="hl-function">(<span class="hl-params">event</span>) =></span> {
  <span class="hl-variable language_">console</span>.<span class="hl-title function_">log</span>(
    <span class="hl-string">"location: "</span> + <span class="hl-variable language_">document</span>.<span class="hl-property">location</span> + <span class="hl-string">", state: "</span> +
      <span class="hl-title class_">JSON</span>.<span class="hl-title function_">stringify</span>(event.<span class="hl-property">state</span>),
  );
});
history.<span class="hl-title function_">pushState</span>({ <span class="hl-attr">page</span>: <span class="hl-number">1</span> }, <span class="hl-string">"title 1"</span>, <span class="hl-string">"?page=1"</span>);
history.<span class="hl-title function_">pushState</span>({ <span class="hl-attr">page</span>: <span class="hl-number">2</span> }, <span class="hl-string">"title 2"</span>, <span class="hl-string">"?page=2"</span>);
history.<span class="hl-title function_">replaceState</span>({ <span class="hl-attr">page</span>: <span class="hl-number">3</span> }, <span class="hl-string">"title 3"</span>, <span class="hl-string">"?page=3"</span>);
history.<span class="hl-title function_">back</span>();
<span class="hl-comment">// Logs "location: http://example.com/example.html?page=1, state: {"page":1}"</span>
history.<span class="hl-title function_">back</span>();
<span class="hl-comment">// Logs "location: http://example.com/example.html, state: null</span>
history.<span class="hl-title function_">go</span>(<span class="hl-number">2</span>);
<span class="hl-comment">// Logs "location: http://example.com/example.html?page=3, state: {"page":3}</span>
</code></pre>
<p>åŒæ—¶ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>history.state</code> è·å–å½“å‰çŠ¶æ€ï¼ˆ<code>stateå¯¹è±¡</code>ï¼‰ã€‚<code>history.replaceState()</code> æ›´æ–°çŠ¶æ€ä¸ä¼šåˆ›å»ºæ–°å†å²è®°å½•ï¼Œåªä¼šè¦†ç›–å½“å‰çŠ¶æ€</p>
        </article></main><script src="https://giscus.app/client.js"
        data-repo="fwqaaq/fwqaaq.github.io"
        data-repo-id="R_kgDOHCFK2A"
        data-category="Show and tell"
        data-category-id="DIC_kwDOHCFK2M4CYOLh"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async></script>