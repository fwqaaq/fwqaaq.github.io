<!DOCTYPE html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="rgb(46, 44, 79)">
  <meta name="description" content="tsconfig.json é…ç½®æŠ€å·§">
  <meta name="keywords" content="JavaScript, TypeScript">
  <title>
    TypeScript æŠ€å·§
  </title>
  <link rel="stylesheet" href="/public/css/index.css">
  <link rel="stylesheet" href="/public/css/markdown.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <script src="/public/JavaScript/index.js"></script>
</head><header class="blog-header">
  <a href="https://github.com/fwqaaq" target="_blank">
    <img src="https://avatars.githubusercontent.com/u/82551626?v=4" loading="lazy" alt="me" srcset="">
  </a>
  <nav class="header-nav">
    <a class="decoration-line" href="/"><i class="fa-solid fa-house-chimney fa-xs"></i>
      <span class="disappear">Home</span>
    </a>
    <a class="decoration-line" href="/./about/index.html"><i class="fa-solid fa-address-card fa-xs"></i>
      <span class="disappear">About</span></a>
    <a class="decoration-line" href="/./archive/index.html"><i class="fa-solid fa-box-archive fa-xs"></i> <span
        class="disappear">Archive</span></a>
    <a class="decoration-line" href="/./tags/index.html"><i class="fa-solid fa-tag fa-xs"></i> <span
        class="disappear">Tag</span></a>
    <div class="toy"><i class="fa-solid fa-gamepad fa-xs"></i> <span class="disappear">Toy</span>
      <nav class="toy-nav disappear">
        <a class="decoration-line" href="/public/resume/">æˆ‘çš„ç®€å†</a>
        <a class="decoration-line" href="/public/write-css/index.html">å­¦ä¹  UI</a>
      </nav>
    </div>
    <a class="decoration-line" href="/feed.xml"><i class="fa-solid fa-rss fa-xs"></i> <span
        class="disappear">RSS</span></a>
    <a class="decoration-line model" href="#" class="model"><i class="fa-solid fa-sun fa-xs"></i></a>
  </nav>
</header><main class="blog-main">
          <article class="blog-article">
            <h1>TypeScript æŠ€å·§</h1>
            <hr>
            <h2 id="project-reference"><a href="https://zhuanlan.zhihu.com/p/550953856">Project Reference</a><a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#project-reference"></a></h2>
<blockquote>
<p>åœ¨ä¸€ä¸ªé¡¹ç›® <code>src</code> ç›®å½•ä¸‹æœ‰ä¸¤ä¸ªç›¸å¯¹ç‹¬ç«‹çš„æ¨¡å—ï¼Œåˆ†åˆ«æ˜¯ <code>src1</code> å’Œ
<code>src2</code>,å…¶ä¸­ä»–ä»¬éƒ½åŒ…å«ä¸€ç³»åˆ—çš„ <code>.ts</code> æ–‡ä»¶</p>
</blockquote>
<ul>
<li>
<p>æ­¤æ—¶ï¼Œåœ¨æ ¹ç›®å½•éœ€è¦ä½¿ç”¨ <code>tsconfig.json</code> æ¥é…ç½®ç¼–è¯‘çš„æ–¹å¼</p>
<pre><code class="hl language-json"><span class="hl-punctuation">{</span>
  <span class="hl-attr">"compilerOptions"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">{</span>
    <span class="hl-attr">"lib"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-string">"es2015"</span><span class="hl-punctuation">,</span> <span class="hl-string">"dom"</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
    <span class="hl-attr">"types"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
    <span class="hl-attr">"outDir"</span><span class="hl-punctuation">:</span> <span class="hl-string">"dist"</span>
  <span class="hl-punctuation">}</span><span class="hl-punctuation">,</span>
  <span class="hl-attr">"include"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-string">"src/**/*.ts"</span><span class="hl-punctuation">]</span>
<span class="hl-punctuation">}</span>
</code></pre>
<ul>
<li>æ­¤æ—¶ç¼–è¯‘åçš„æ–‡ä»¶ä¼šåˆ†åˆ«åˆ° <code>dist/src1</code> å’Œ <code>dist/src2</code> ç›®å½•ä¸‹ã€‚ä½†æ˜¯å¦‚æœ <code>src1</code>
å˜åŒ–äº†ï¼Œ<code>src2</code> åŒæ—¶ä¹Ÿä¼šå†æ¬¡è¢«ç¼–è¯‘ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦åšä¸€äº›ç¼“å­˜è®¾ç½®</li>
</ul>
</li>
</ul>
<ol>
<li>
<p>åœ¨ <code>src1</code> å’Œ <code>src2</code> ç›®å½•ä¸‹åˆ†åˆ«åˆ›å»º <code>tsconfig.json</code> æ–‡ä»¶ï¼Œå…¶ä¸­éœ€è¦æ·»åŠ 
<code>composite:true</code> è¿™æ ·çš„é…ç½®</p>
<pre><code class="hl language-json"><span class="hl-comment">//src1 ç›®å½•ä¸‹`tsconfig.json`,src2 ç›®å½•åŒç†</span>
<span class="hl-punctuation">{</span>
  <span class="hl-attr">"compilerOptions"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">{</span>
    <span class="hl-attr">"composite"</span><span class="hl-punctuation">:</span> <span class="hl-string">"true"</span><span class="hl-punctuation">,</span>
    <span class="hl-attr">"lib"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-string">"es2015"</span><span class="hl-punctuation">,</span> <span class="hl-string">"dom"</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
    <span class="hl-attr">"types"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
    <span class="hl-attr">"outDir"</span><span class="hl-punctuation">:</span> <span class="hl-string">"dist"</span>
  <span class="hl-punctuation">}</span><span class="hl-punctuation">,</span>
  <span class="hl-attr">"include"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-string">"../../dist/src1"</span><span class="hl-punctuation">]</span>
<span class="hl-punctuation">}</span>
</code></pre>
</li>
<li>
<p>ç„¶ååœ¨æ ¹ç›®å½•çš„ <code>tsconfig.json</code> é‡ŒåŠ ä¸Šä¸€ä¸ª <code>references</code> çš„é…ç½®</p>
<pre><code class="hl language-json"><span class="hl-comment">// æ ¹ç›®å½•ä¸‹`tsconfig.json`</span>
<span class="hl-punctuation">{</span>
  <span class="hl-attr">"compilerOptions"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">{</span>
    <span class="hl-attr">"lib"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-string">"es2015"</span><span class="hl-punctuation">,</span> <span class="hl-string">"dom"</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
    <span class="hl-attr">"types"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
    <span class="hl-attr">"outDir"</span><span class="hl-punctuation">:</span> <span class="hl-string">"dist"</span>
  <span class="hl-punctuation">}</span><span class="hl-punctuation">,</span>
  <span class="hl-attr">"references"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span>
    <span class="hl-punctuation">{</span> <span class="hl-attr">"path"</span><span class="hl-punctuation">:</span> <span class="hl-string">"./src/src1"</span> <span class="hl-punctuation">}</span><span class="hl-punctuation">,</span>
    <span class="hl-punctuation">{</span> <span class="hl-attr">"path"</span><span class="hl-punctuation">:</span> <span class="hl-string">"./src/src2"</span> <span class="hl-punctuation">}</span>
  <span class="hl-punctuation">]</span>
<span class="hl-punctuation">}</span>
</code></pre>
</li>
<li>
<p>è¿è¡Œ <code>tsc --build</code>,ç¼–è¯‘çš„ç»“æœä¼šå¤šå‡º <code>.d.ts</code> æ–‡ä»¶ï¼Œå’Œç¼“å­˜æ–‡ä»¶
<code>tsconfig.tsbuildinfo</code>(æ­¤æ–‡ä»¶ä¼šè®°å½•è¿™äº›æ–‡ä»¶çš„ hash å€¼)</p>
<ul>
<li>ä½¿ç”¨ <code>Project Refrence</code> éœ€è¦ä½¿ç”¨ <code>tsc --build | -b</code>
æ¥ç¼–è¯‘,å¹¶ä¸”éœ€è¦åœ¨å­æ¨¡å—ä¸­è®¾ç½® <code>composite:true</code> æ¥æŒ‡å®š</li>
<li>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>prepend</code> æ¥æŒ‡å®šç¼–è¯‘é¡ºåºã€‚æ­¤æ—¶å¯ä»¥ä¼˜å…ˆç¼–è¯‘ <code>src2</code></li>
</ul>
<pre><code class="hl language-json"><span class="hl-punctuation">{</span>
 ...<span class="hl-punctuation">,</span>
 <span class="hl-attr">"references"</span><span class="hl-punctuation">:</span><span class="hl-punctuation">[</span>
     <span class="hl-punctuation">{</span><span class="hl-attr">"path"</span><span class="hl-punctuation">:</span><span class="hl-string">"./src/src1"</span><span class="hl-punctuation">}</span><span class="hl-punctuation">,</span>
     <span class="hl-punctuation">{</span><span class="hl-attr">"path"</span><span class="hl-punctuation">:</span><span class="hl-string">"./src/src2"</span><span class="hl-punctuation">,</span><span class="hl-attr">"prepend"</span><span class="hl-punctuation">:</span><span class="hl-literal"><span class="hl-keyword">true</span></span><span class="hl-punctuation">}</span>
   <span class="hl-punctuation">]</span>
<span class="hl-punctuation">}</span>
</code></pre>
</li>
</ol>
<h2 id="ts-ç±»å‹æ¥æº"><a href="https://zhuanlan.zhihu.com/p/531084864">TS ç±»å‹æ¥æº</a><a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#ts-ç±»å‹æ¥æº"></a></h2>
<blockquote>
<p>ts ä¸­çš„ <code>declare</code> è¯­æ³•å¯ä»¥å•ç‹¬å£°æ˜å˜é‡çš„ç±»å‹</p>
</blockquote>
<pre><code class="hl language-js"><span class="hl-comment">//object</span>
interface <span class="hl-title class_">Person</span> {
    <span class="hl-attr">name</span>: string
    age?: number
}

declare <span class="hl-keyword">const</span> <span class="hl-attr">guang</span>: <span class="hl-title class_">Person</span>

<span class="hl-comment">//function</span>
declare <span class="hl-keyword">function</span> <span class="hl-title function_">add</span>(<span class="hl-params">num1: number, num2: number</span>): number
</code></pre>
<ul>
<li>
<p>ä½†æ˜¯åƒæµè§ˆå™¨ä¸­å†…ç½®çš„ç±»å‹ï¼ŒåŸºæœ¬éƒ½æ˜¯å¿…ç”¨çš„ã€‚æ‰€ä»¥ typescript
ä¸­å†…ç½®äº†è¿™äº›ç±»å‹å£°æ˜ï¼Œåœ¨ typescript ä¸‹çš„ <code>lib</code> æ–‡ä»¶ä¸‹</p>
<ul>
<li>å› ä¸ºæ˜¯å†…ç½®çš„ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“å°±å¯ä»¥é…ç½®</li>
</ul>
<pre><code class="hl language-json"><span class="hl-comment">//stsconfig.json`</span>
<span class="hl-punctuation">{</span>
   <span class="hl-attr">"compilerOptions"</span><span class="hl-punctuation">:</span><span class="hl-punctuation">{</span>
     <span class="hl-attr">"lib"</span><span class="hl-punctuation">:</span><span class="hl-punctuation">[</span><span class="hl-string">"es2015"</span><span class="hl-punctuation">,</span><span class="hl-string">"dom"</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
     <span class="hl-comment">//...</span>
   <span class="hl-punctuation">}</span><span class="hl-punctuation">,</span>
   <span class="hl-comment">//...</span>
<span class="hl-punctuation">}</span>
</code></pre>
</li>
<li>
<p>åƒ <code>node</code> è¿™ç§éå†…ç½®çš„ç±»å‹ï¼Œä½¿ç”¨æ—¶éœ€è¦ä¸‹è½½ <code>@types/node</code>
æ‰å¯ä»¥ä½¿ç”¨ï¼Œè¿™äº›åŒ…ä¼šé»˜è®¤æ”¾ç½®åœ¨ <code>node_modules</code> ç›®å½•ä¸‹çš„ <code>@types</code> ä¸­</p>
<ul>
<li>å½“ç„¶ä¹Ÿæ˜¯éœ€è¦å¼•å…¥æ‰å¯ä»¥ä½¿ç”¨</li>
</ul>
<pre><code class="hl language-json"><span class="hl-comment">//stsconfig.json`</span>
<span class="hl-punctuation">{</span>
   <span class="hl-attr">"compilerOptions"</span><span class="hl-punctuation">:</span><span class="hl-punctuation">{</span>
     <span class="hl-attr">"types"</span><span class="hl-punctuation">:</span><span class="hl-punctuation">[</span><span class="hl-string">"node"</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
     <span class="hl-comment">//...</span>
   <span class="hl-punctuation">}</span><span class="hl-punctuation">,</span>
   <span class="hl-comment">//...</span>
<span class="hl-punctuation">}</span>
</code></pre>
</li>
<li>
<p>å¦‚æœåƒ <code>vue3</code> è¿™ç§ä½¿ç”¨ typescript ç¼–å†™çš„ï¼Œå¯ä»¥è‡ªåŠ¨ç”Ÿæˆå†…ç½®çš„ <code>.d.ts</code> æ–‡ä»¶</p>
</li>
<li>
<p>æ³¨æ„ï¼š</p>
<ul>
<li><code>module</code> åä¸€èˆ¬æ¥ä¸€ä¸ªè·¯å¾„ï¼Œè€Œ <code>namespace</code> åä¸€èˆ¬æ˜¯ä¸€ä¸ªå‘½åç©ºé—´åå­—</li>
<li>ä½†æ˜¯ï¼Œç°åœ¨ä¸€èˆ¬æ¨èä½¿ç”¨ <code>esmodule</code>,<strong>å¦‚æœåœ¨ dts ä¸­æ²¡æœ‰ <code>import</code> æˆ–è€…
<code>export</code>,é‚£ä¹ˆæ‰€æœ‰çš„ç±»å‹å£°æ˜éƒ½æ˜¯å…¨å±€çš„ï¼Œå¦åˆ™æ˜¯æ¨¡å—å†…éƒ¨çš„</strong></li>
</ul>
<pre><code class="hl language-json"><span class="hl-comment">//tsconfig.json</span>
<span class="hl-punctuation">{</span>
  <span class="hl-attr">"files"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-string">"./global.d.ts"</span><span class="hl-punctuation">]</span><span class="hl-punctuation">,</span>
  <span class="hl-attr">"include"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span>
    <span class="hl-string">"./types/**/*"</span><span class="hl-punctuation">,</span>
    <span class="hl-string">"./src/**/*"</span>
  <span class="hl-punctuation">]</span>
<span class="hl-punctuation">}</span>
</code></pre>
<ul>
<li>ä»¥ä¸‹å¦‚æœä¸æ³¨é‡Š importï¼Œé‚£ä¹ˆ .d.ts ä¸ä¼šæ˜¯å…¨å±€çš„</li>
</ul>
<pre><code class="hl language-ts"><span class="hl-comment">//global.d.ts</span>
<span class="hl-keyword">import</span> * <span class="hl-keyword">as</span> fs <span class="hl-keyword">from</span> <span class="hl-string">"fs"</span>;
<span class="hl-keyword">declare</span> <span class="hl-keyword">const</span> <span class="hl-attr">fn</span>: <span class="hl-function">(<span class="hl-params">a: <span class="hl-built_in">number</span>, b: <span class="hl-built_in">number</span></span>) =></span> <span class="hl-built_in">number</span>;
</code></pre>
</li>
<li>
<p><code>reference</code> å¯ä»¥æŒ‡å®šä½¿ç”¨çš„æ¨¡å—çš„ç±»å‹ï¼Œæ‰€ä»¥åœ¨ <code>.d.ts</code> æ–‡ä»¶ä¸­ä½¿ç”¨çš„æ˜¯
referenceï¼Œè€Œä¸æ˜¯ import</p>
<pre><code class="hl language-ts"><span class="hl-comment">/// &#x3C;reference types="node"></span>
<span class="hl-keyword">declare</span> <span class="hl-keyword">const</span> <span class="hl-attr">fn</span>: <span class="hl-function">(<span class="hl-params">a: <span class="hl-built_in">number</span>, b: <span class="hl-built_in">number</span></span>) =></span> <span class="hl-built_in">number</span>;
</code></pre>
<ul>
<li>æˆ–è€…åœ¨ä¸€äº›é…ç½®æ–‡ä»¶ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä¾‹å¦‚ vite ä¸­çš„ <code>env.d.ts</code></li>
</ul>
<pre><code class="hl language-ts"><span class="hl-comment">/// &#x3C;reference types="vite/client" /></span>
<span class="hl-comment">//...</span>
</code></pre>
</li>
</ul>
<h2 id="ts-æ¨¡å—åŒ–å¼€å‘">TS æ¨¡å—åŒ–å¼€å‘<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#ts-æ¨¡å—åŒ–å¼€å‘"></a></h2>
<ul>
<li>TypeScript çš„ä¸¤ç§æ”¯æŒ
<ul>
<li>æ¨¡å—åŒ–ï¼šæ¯ä¸ªæ–‡ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œæ”¯æŒ ES Moduleï¼Œä¹Ÿæ”¯æŒ CommonJS</li>
<li>å‘½åç©ºé—´ï¼šé€šè¿‡<code>nampspace</code>æ¥å£°æ˜ä¸€ä¸ªå‘½åç©ºé—´</li>
</ul>
</li>
</ul>
<h3 id="å‘½åç©ºé—´">å‘½åç©ºé—´<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#å‘½åç©ºé—´"></a></h3>
<blockquote>
<p>åœ¨ TypeScript æ—©æœŸæ—¶ï¼Œç§°ä¹‹ä¸ºå†…éƒ¨æ¨¡å—ï¼Œä¸»è¦æ˜¯å°†ä¸€ä¸ªæ¨¡å—å†…éƒ¨å†æƒŠé†’ä½œç”¨åŸŸçš„åˆ’åˆ†ï¼Œé˜²æ­¢å‘½åå†²çª</p>
</blockquote>
<ul>
<li>å‘½åç©ºé—´æ˜¯åœ¨ Web
åº”ç”¨ç¨‹åºä¸­æ„å»ºä»£ç çš„å¥½æ–¹æ³•ï¼Œæ‰€æœ‰ä¾èµ–é¡¹éƒ½ä½œä¸º&#x3C;script>æ ‡ç­¾åŒ…å«åœ¨ HTML é¡µé¢ä¸­</li>
</ul>
<pre><code class="hl language-ts"><span class="hl-keyword">export</span> <span class="hl-keyword">namespace</span> price {
  <span class="hl-keyword">export</span> <span class="hl-keyword">function</span> <span class="hl-title function_">format</span>(<span class="hl-params">price: <span class="hl-built_in">number</span></span>) {
    <span class="hl-keyword">return</span> <span class="hl-string">"99.99"</span>;
  }
}
</code></pre>
<h3 id="ç±»å‹æŸ¥æ‰¾">ç±»å‹æŸ¥æ‰¾<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#ç±»å‹æŸ¥æ‰¾"></a></h3>
<ul>
<li>å¦å¤–çš„ä¸€ç§<code>typescript</code>æ–‡ä»¶ï¼š<code>.d.ts</code>æ–‡ä»¶
<ul>
<li>é€šå¸¸çš„<code>TypeScript</code>æ–‡ä»¶éƒ½æ˜¯ä»¥<code>.ts</code>æ–‡ä»¶è¾“å‡º</li>
<li>å¦å¤–ä¸€ç§<code>.d.ts</code>æ–‡ä»¶æŒ‰ï¼Œæ˜¯ç”¨æ¥åšç±»å‹çš„å£°æ˜<code>declare</code>.(ä»…ä»…æ˜¯ç”¨æ¥åšç±»å‹ç›‘æµ‹ï¼Œå‘ŠçŸ¥ typescript æœ‰å“ªäº›ç±»å‹)</li>
</ul>
</li>
<li>ä¸‰ç§ç±»å‹å£°æ˜
<ul>
<li>å†…ç½®ç±»å‹å£°æ˜</li>
<li>å¤–éƒ¨å®šä¹‰ç±»å‹å£°æ˜</li>
<li>è‡ªå·±å®šä¹‰ç±»å‹å£°æ˜</li>
</ul>
</li>
</ul>
<h4 id="å†…ç½®ç±»å‹å£°æ˜">å†…ç½®ç±»å‹å£°æ˜<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#å†…ç½®ç±»å‹å£°æ˜"></a></h4>
<ul>
<li>å†…ç½®ç±»å‹å£°æ˜æ˜¯<code>typescript</code>è‡ªå¸¦çš„ï¼Œå¸®åŠ©æˆ‘ä»¬å†…ç½®äº†<code>JavaScript</code>è¿è¡Œæ—¶çš„ä¸€äº›æ ‡å‡†åŒ– API çš„å£°æ˜æ–‡ä»¶
<ul>
<li>åŒ…æ‹¬æ¯”å¦‚<code>Math,Date</code>ç­‰å†…ç½®ç±»å‹ï¼Œä¹ŸåŒ…æ‹¬<code>DOM API</code>ï¼Œæ¯”å¦‚<code>Window</code>,<code>Document</code>ç­‰</li>
</ul>
</li>
<li>å†…ç½®ç±»å‹å£°æ˜é€šå¸¸åœ¨æˆ‘ä»¬å®‰è£… typescript çš„ç¯å¢ƒä¸­ä¼šå¸¦æœ‰çš„ï¼š
<ul>
<li><a href="https://github.com/microsoft/TypeScript/tree/main/lib">https://github.com/microsoft/TypeScript/tree/main/lib</a></li>
</ul>
</li>
</ul>
<h4 id="å¤–éƒ¨å®šä¹‰ç±»å‹å£°æ˜">å¤–éƒ¨å®šä¹‰ç±»å‹å£°æ˜<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#å¤–éƒ¨å®šä¹‰ç±»å‹å£°æ˜"></a></h4>
<ul>
<li>å¤–éƒ¨ç±»å‹å£°æ˜é€šå¸¸æ˜¯æˆ‘ä»¬ä½¿ç”¨ä¸€äº›åº“ (æ¯”å¦‚ç¬¬ä¸‰æ–¹åº“) æ—¶ï¼Œéœ€è¦çš„ä¸€äº›ç±»å‹å£°æ˜
<ul>
<li>åœ¨è‡ªå·±åº“ä¸­è¿›è¡Œç±»å‹å£°æ˜ (ç¼–å†™<code>.d.ts</code>æ–‡ä»¶)ï¼Œæ¯”å¦‚<code>axios</code></li>
<li>é€šè¿‡ç¤¾åŒºçš„ä¸€ä¸ªå…¬æœ‰åº“<code>DefinitelyTyped</code>å­˜æ”¾ç±»å‹å£°æ˜æ–‡ä»¶
<ul>
<li>è¯¥åº“çš„ GitHub åœ°å€:<a href="https://github.com/DefinitelyTyped/DefinitelyTyped/">https://github.com/DefinitelyTyped/DefinitelyTyped/</a></li>
<li>è¯¥åº“æŸ¥æ‰¾å£°æ˜å®‰è£…æ–¹å¼çš„åœ°å€:<a href="https://www.typescriptlang.org/dt/search?search">https://www.typescriptlang.org/dt/search?search</a>=</li>
<li>æ¯”å¦‚æˆ‘ä»¬å®‰è£… react çš„ç±»å‹å£°æ˜ï¼š<code>npm i @types/react --save-dev</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="è‡ªå®šä¹‰å£°æ˜">è‡ªå®šä¹‰å£°æ˜<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#è‡ªå®šä¹‰å£°æ˜"></a></h4>
<blockquote>
<p>ä½•æ—¶ä½¿ç”¨è‡ªå®šä¹‰å£°æ˜</p>
</blockquote>
<ol>
<li>æˆ‘ä»¬ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“æ˜¯ä¸€ä¸ªçº¯çš„ JavaScript åº“ï¼Œæ²¡æœ‰å¯¹åº”çš„å£°æ˜æ–‡ä»¶ï¼šæ¯”å¦‚ lodash</li>
<li>æˆ‘ä»¬ç»™è‡ªå·±çš„ä»£ç ä¸­å£°æ˜ä¸€äº›ç±»å‹ï¼Œæ–¹ä¾¿åœ¨å…¶ä»–åœ°æ–¹ç›´æ¥è¿›è¡Œä½¿ç”¨</li>
</ol>
<blockquote>
<p>å˜é‡ - å‡½æ•° - ç±»çš„å£°æ˜</p>
</blockquote>
<pre><code class="hl language-ts"><span class="hl-keyword">declare</span> <span class="hl-keyword">let</span> <span class="hl-attr">whyHeight</span>: <span class="hl-built_in">number</span>;
<span class="hl-keyword">declare</span> <span class="hl-keyword">function</span> <span class="hl-title function_">whyFoo</span>(<span class="hl-params"></span>): <span class="hl-built_in">void</span>;
<span class="hl-keyword">declare</span> <span class="hl-keyword">class</span> <span class="hl-title class_">Person</span> {
  <span class="hl-attr">name</span>: <span class="hl-built_in">string</span>;
  <span class="hl-attr">age</span>: <span class="hl-built_in">number</span>;
  <span class="hl-title function_">constructor</span>(<span class="hl-params">name: <span class="hl-built_in">string</span>, age: <span class="hl-built_in">number</span></span>);
}
</code></pre>
<blockquote>
<p>å£°æ˜æ¨¡å—</p>
</blockquote>
<ul>
<li>æˆ‘ä»¬ä¹Ÿå¯ä»¥å£°æ˜æ¨¡å—ï¼Œæ¯”å¦‚ lodash æ¨¡å—é»˜è®¤ä¸èƒ½ä½¿ç”¨çš„æƒ…å†µ</li>
<li>å£°æ˜æ¨¡å—çš„è¯­æ³•ï¼š<code>declare module 'æ¨¡å—å' {}</code>
<ul>
<li>åœ¨å£°æ˜æ¨¡å—çš„å†…éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>export</code> å¯¼å‡ºå¯¹åº”åº“çš„ç±»ã€å‡½æ•°ç­‰</li>
</ul>
</li>
</ul>
<pre><code class="hl language-ts"><span class="hl-keyword">declare</span> <span class="hl-variable language_">module</span> <span class="hl-string">"lodash"</span> {
  <span class="hl-keyword">export</span> <span class="hl-keyword">function</span> <span class="hl-title function_">join</span>(<span class="hl-params">arr: <span class="hl-built_in">any</span>[]</span>): <span class="hl-built_in">void</span>;
}
</code></pre>
<blockquote>
<p>å£°æ˜æ–‡ä»¶</p>
</blockquote>
<ul>
<li>åœ¨å¼€å‘ä¸­æˆ‘ä»¬ä½¿ç”¨äº† jpg
è¿™ç±»å›¾ç‰‡æ–‡ä»¶ï¼Œé»˜è®¤<code>typescript</code>ä¹Ÿæ˜¯ä¸æ”¯æŒçš„ï¼Œä¹Ÿéœ€è¦å¯¹å…¶è¿›è¡Œå£°æ˜</li>
</ul>
<pre><code class="hl language-ts"><span class="hl-keyword">declare</span> <span class="hl-variable language_">module</span> <span class="hl-string">"*.jpg"</span> {
  <span class="hl-keyword">const</span> <span class="hl-attr">src</span>: <span class="hl-built_in">string</span>;
  <span class="hl-keyword">export</span> <span class="hl-keyword">default</span> src;
}
</code></pre>
<blockquote>
<p>åœ¨æˆ‘ä»¬æ„å»º vue é¡¹ç›®æ—¶ï¼Œvue ä¼šè‡ªå·±åˆå§‹åŒ–ä¸€ä¸ª<code>shimes-vue.d.ts</code>æ–‡ä»¶</p>
</blockquote>
<ul>
<li>å…¶ä¸­ vue çš„<code>.d.ts</code>æ–‡ä»¶å¹¶æ²¡æœ‰æ„å»ºå…¶ä»–çš„å…¨å±€å±æ€§ (æˆ–è€…è‡ªå·±æ·»åŠ çš„),æ‰€ä»¥å¦‚æœè¦ä½¿ç”¨ï¼Œæœ€å¥½åŠ ä¸Šå»</li>
</ul>
<pre><code class="hl language-ts"><span class="hl-keyword">declare</span> <span class="hl-variable language_">module</span> <span class="hl-string">"*.vue"</span> {
  <span class="hl-keyword">import</span> <span class="hl-keyword">type</span> { <span class="hl-title class_">DefineComponent</span> } <span class="hl-keyword">from</span> <span class="hl-string">"vue"</span>;
  <span class="hl-keyword">const</span> <span class="hl-attr">component</span>: <span class="hl-title class_">DefineComponent</span>&#x3C;{}, {}, <span class="hl-built_in">any</span>>;
  <span class="hl-keyword">export</span> <span class="hl-keyword">default</span> component;
}

<span class="hl-keyword">declare</span> <span class="hl-variable language_">module</span> <span class="hl-string">"*.json"</span>;
<span class="hl-comment">//æš´éœ²ä¸¤ä¸ªå…¨å±€å±æ€§</span>
<span class="hl-keyword">declare</span> <span class="hl-keyword">const</span> <span class="hl-attr">$store</span>: <span class="hl-built_in">any</span>;
<span class="hl-keyword">declare</span> <span class="hl-keyword">const</span> <span class="hl-attr">$filters</span>: <span class="hl-built_in">any</span>;
</code></pre>
<h2 id="è®¾ç½®åˆ«å">è®¾ç½®åˆ«å<a class="anchor" aria-label="Anchor" aria-hidden="true" data-anchorjs-icon="ğŸ”—" href="#è®¾ç½®åˆ«å"></a></h2>
<p>ä½¿ç”¨ vite å¼€å‘çš„æ—¶å€™ï¼Œç»å¸¸ä¼šä½¿ç”¨ç±»ä¼¼ <code>@</code> çš„åˆ«åç­‰æƒ…å†µï¼Œå¦‚æœä½¿ç”¨ TypeScript æ¥è®¾ç½®ï¼Œéœ€è¦åœ¨ <code>tsconfig.json</code> æ¥è®¾ç½®ï¼Œå†åœ¨ <code>vite.config.ts</code> ä¸­è®¾ç½® <code>alias</code>ï¼Œè¿™æ ·æ‰å¯ä»¥ä½¿ç”¨</p>
<pre><code class="hl language-json"><span class="hl-punctuation">{</span>
  <span class="hl-attr">"compilerOptions"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">{</span>
    <span class="hl-attr">"baseUrl"</span><span class="hl-punctuation">:</span> <span class="hl-string">"."</span><span class="hl-punctuation">,</span>
    <span class="hl-attr">"paths"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">{</span>
      <span class="hl-attr">"@/*"</span><span class="hl-punctuation">:</span> <span class="hl-punctuation">[</span><span class="hl-string">"src/*"</span><span class="hl-punctuation">]</span>
    <span class="hl-punctuation">}</span>
  <span class="hl-punctuation">}</span>
<span class="hl-punctuation">}</span>
</code></pre>
        </article></main><script src="https://giscus.app/client.js"
        data-repo="fwqaaq/fwqaaq.github.io"
        data-repo-id="R_kgDOHCFK2A"
        data-category="Show and tell"
        data-category-id="DIC_kwDOHCFK2M4CYOLh"
        data-mapping="pathname"
        data-strict="0"
        data-reactions-enabled="1"
        data-emit-metadata="1"
        data-input-position="bottom"
        data-theme="preferred_color_scheme"
        data-lang="zh-CN"
        crossorigin="anonymous"
        async></script>